# To Build the Book

# 1. Change output_dir to "docs".
# 2. Uncomment desired rmd_files line, but add in a tab.
# 3. Restart R.
# 4. library(bookdown); clean_book(TRUE)
# 5. Press "Build Website" in Build pane.
# 6. Revert _bookdown.yml. If you don't, it messes up knitting individual chapters.
# 7. Commit and push changes in docs/ directory.

output_dir: "docs"
rmd_files:
  # html: ["index.Rmd","03-rubin-causal-model.Rmd","m-s-errors.Rmd"]
  html: ["index.Rmd","00-shopping-week.Rmd","01-visualization.Rmd","02-tidyverse.Rmd","03-rubin-causal-model.Rmd","04-functions.Rmd","05-probability.Rmd","06-sampling.Rmd","07-one-parameter.Rmd","08-two-parameters.Rmd","09-n-parameters.Rmd","11-continuous-response.Rmd","tools.Rmd","shiny.Rmd","maps.Rmd","animation.Rmd","references.Rmd"]

# Previous section is modified by the book-builder. Its normal state is with both
# html:[] files lists commented out. This makes it easy for chapter writers to just
# knit their chapters eaasily. For book-builder convenience, we keep two of these
# html:[] lists around. The short one is just for us testing out the set up.
# The long one is the full book. Uncomment the one you want when building the book,
# by hitting "Build Website". Note that the html:[] you use must be indented one
# tab. If not, building the book will still "work", but it will include all the Rmd
# files in the directory and in alphabetical order. It won't use your list.

# By default, we set output_dir to "junk". This is where built files get put. The
# .gitignore ignores that directory, so chapter writers are not bothered. They are
# also prevented from, mistakenly, writing their new versions to docs. The
# book-builder needs to set this to "docs", which is the directory which GH pages
# uses.

# Another interesting aspect is: What happens when we change output_dir from "junk" to
# "docs"? How does the bookdown package know what those values are? For example,
# `clean_book(TRUE)` is supposed to delete that directory. But it only knows that
# directory is at restart. You can't just change it on the fly. So, change these settings,
# restart, and then build the book.


# This first section is never changed. "book_filename" sets the filename of
# the main Rmd file and the (partial) name of some sub-folders. Are there
# better procedures for this? "language" allows for customization of the
# default titles, e.g,, change fig to FIGURE.

# Warning: don't add an underscore to the beginning of filenames!

book_filename: "book_temp"
language:
  label:
    fig: "FIGURE "
    tab: "TABLE "
  ui:
    edit: "Edit"
    chapter_name: "Chapter "

# "delete_merged_file"" deletes main Rmd file after book is sucessful
# rendered. Is there a way to automatically delete the _bookdown_files
# directory as well, when the build (of a chapter or of the book) is
# complete? Would that be good?

delete_merged_file: true

# before_chapter_script calls on common.R to set defaults before building the book

before_chapter_script: "common.R"

# after_chapter_script calls on common_end.R to update packages.bib

after_chapter_script: "common_end.R"

# More comments:

# output_dir: sets the output diretory of the book. This is, by default, set to junk. Any
# time you knit even a chapter, stuff will be dumped in junk/. When the book-builers want
# to build the book, they set this to docs. Github, once the results are pushed, will
# put everything which is pushed in docs/ up on Github pages. We will move yo Netify at some point.

# rmd_files: allows to set custom order of Rmd files for the book.
# Note that the "html:" must be indented with a tab, not with spaces.

# Note that if there are no "html: [" entries, it will just build every Rmd in the directory.

