<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Chapter 8 Two Parameters | Preceptor’s Primer for Bayesian Data Science" />
<meta property="og:type" content="book" />



<meta name="github-repo" content="davidkane9/PPBDS" />

<meta name="author" content="David Kane" />

<meta name="date" content="2020-07-16" />

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>

<meta name="description" content="Chapter 8 Two Parameters | Preceptor’s Primer for Bayesian Data Science">

<title>Chapter 8 Two Parameters | Preceptor’s Primer for Bayesian Data Science</title>

<link href="libs/tufte-css-2015.12.29/tufte.css" rel="stylesheet" />
<link href="libs/tufte-css-2015.12.29/envisioned.css" rel="stylesheet" />
<link href="libs/msmb-css-0/msmb.css" rel="stylesheet" />
<script>
function toggle_visibility(id1, id2) {
var e = document.getElementById(id1);
var f = document.getElementById(id2);

e.style.display = ((e.style.display!='none') ? 'none' : 'block');

if(f.classList.contains('fa-plus-square')) {
    f.classList.add('fa-minus-square')
    f.classList.remove('fa-plus-square')
} else {
    f.classList.add('fa-plus-square')
    f.classList.remove('fa-minus-square')
}

}
</script>
<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }

code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>



<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul class="navbar">
<li class="msmb"><p class="title">Preceptor's Primer for Bayesian Data Science<p><p class="author">David Kane</p>
<li class="dropdown" style="float:right">
<a href="javascript:void(0)" class="dropbtn">&#x25BE; Chapters</a>
<div class="dropdown-content">
<a href="index.html">Cover</a>
<a href="preamble.html">Preamble</a>
<a href="visualization.html"><span class="toc-section-number">1</span> Visualization</a>
<a href="tidyverse.html"><span class="toc-section-number">2</span> Tidyverse</a>
<a href="rubin-causal-model.html"><span class="toc-section-number">3</span> Rubin Causal Model</a>
<a href="functions.html"><span class="toc-section-number">4</span> Functions</a>
<a href="probability.html"><span class="toc-section-number">5</span> Probability</a>
<a href="sampling.html"><span class="toc-section-number">6</span> Sampling</a>
<a href="one-parameter.html"><span class="toc-section-number">7</span> One Parameter</a>
<a id="active-page" href="two-parameters.html"><span class="toc-section-number">8</span> Two Parameters</a><ul class="toc-sections">
<li class="toc"><a href="#eda-for-trains"> EDA for <code>trains</code></a></li>
<li class="toc"><a href="#review-of-one-parameter-estimation"> Review of One Parameter Estimation</a></li>
<li class="toc"><a href="#age-as-a-function-of-party"> <code>age</code> as a function of <code>party</code></a></li>
<li class="toc"><a href="#estimate-other-things"> Estimate other things</a></li>
<li class="toc"><a href="#estimate-trickier-things"> Estimate trickier things</a></li>
<li class="toc"><a href="#using-the-predict-function"> Using the predict() function</a></li>
<li class="toc"><a href="#NA"> <code>att_end</code> as a function of <code>treatment</code></a></li>
<li class="toc"><a href="#two-parameter-models-which-require-the-bootstrap"> Two parameter models which require the bootstrap</a></li>
<li class="toc"><a href="#prediction"> Prediction</a></li>
</ul>
<a href="n-parameters.html"><span class="toc-section-number">9</span> N Parameters</a>
<a href="pitfalls.html"><span class="toc-section-number">10</span> Pitfalls</a>
<a href="continuous-response.html"><span class="toc-section-number">11</span> Continuous Response</a>
<a href="discrete-response.html"><span class="toc-section-number">12</span> Discrete Response</a>
<a href="appendices.html">Appendices</a>
<a href="productivity.html">Productivity</a>
<a href="shiny.html">Shiny</a>
<a href="maps.html">Maps</a>
<a href="animation.html">Animation</a>
<a href="references-1.html">References</a>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div id="two-parameters" class="section level1">
<h1>
<span class="header-section-number">Chapter 8</span> Two Parameters</h1>
<!-- Priorities: -->
<!-- Outline of the chapter -->
<!-- 0) Open with a question. -->
<!-- 1) EDA for trains -->
<!-- 2) Review of material from Chapter 7 -->
<!-- 3) age by party (modeling for prediction). finished with residuals parameter uncertainty No prediction -->
<!-- 4) att_end by treatment (modeling for causation). No use of bootstrap. -->
<!-- 5) MAYBE NOT Models requiring the bootstrap. Ratio of average age of democrats versus republicans. -->
<!-- 6) Prediction. Use the models to answer your question. -->
<p>We have now introduced almost all of the key themes in the book. The last five chapters are about increasing the complexity of the models we use. In this chapter, we estimate models which involve two parameters.</p>
<div id="eda-for-trains" class="section level2">
<h2>
<span class="header-section-number">8.1</span> EDA for <code>trains</code>
</h2>
<!-- DK: Still need to standardize the method we use for providing references. -->
<p>Let’s do some exploratory data analysis (EDA) of the <code>trains</code> data set from the <strong>PPBDS.data</strong> package. Recall the discussion from Chapter <a href="rubin-causal-model.html#rubin-causal-model">3</a>. Enos (2014) randomly placed Spanish-speaking confederates on nine train platforms around Boston, Massachusetts. Exposure to Spanish-speakers – the <code>treatment</code> – influenced attitudes toward immigration. These reactions were measured through changes in answers to three survey questions. Let’s load the libraries we will need in this chapter and look at the data.</p>
<div class="sourceCode" id="cb745"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb745-1"><a href="two-parameters.html#cb745-1"></a><span class="kw">library</span>(PPBDS.data)</span>
<span id="cb745-2"><a href="two-parameters.html#cb745-2"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb745-3"><a href="two-parameters.html#cb745-3"></a><span class="kw">library</span>(broom)</span>
<span id="cb745-4"><a href="two-parameters.html#cb745-4"></a><span class="kw">library</span>(rsample)</span>
<span id="cb745-5"><a href="two-parameters.html#cb745-5"></a><span class="kw">library</span>(skimr)</span></code></pre></div>
<div class="sourceCode" id="cb746"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb746-1"><a href="two-parameters.html#cb746-1"></a><span class="kw">glimpse</span>(trains)</span></code></pre></div>
<pre><code>## Rows: 115
## Columns: 8
## $ gender    &lt;chr&gt; "Female", "Female", "Male", "Male", "Male", "Female", "Fema…
## $ liberal   &lt;lgl&gt; FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE…
## $ party     &lt;chr&gt; "Democrat", "Republican", "Democrat", "Democrat", "Democrat…
## $ age       &lt;dbl&gt; 31, 34, 63, 45, 55, 37, 53, 36, 54, 42, 33, 50, 24, 40, 53,…
## $ income    &lt;dbl&gt; 135000, 105000, 135000, 300000, 135000, 87500, 87500, 13500…
## $ att_start &lt;dbl&gt; 11, 9, 3, 11, 8, 13, 13, 10, 12, 9, 10, 11, 13, 6, 8, 13, 7…
## $ treatment &lt;fct&gt; Treated, Treated, Treated, Treated, Control, Treated, Contr…
## $ att_end   &lt;dbl&gt; 11, 10, 5, 11, 5, 13, 13, 11, 12, 10, 9, 9, 13, 7, 8, 13, 8…</code></pre>
<p>Here, we can see variables that indicate each respondent’s gender, political affiliations, age, and income. Additionally, we have variables that indicate whether a subject was in the control or treatment group, and the their attitudes toward immigration both before or after the treatment. You can type <code>?trains</code> to read the help page for more information about each variable. Let’s restrict attention to a subset of the variables.</p>
<div class="sourceCode" id="cb748"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb748-1"><a href="two-parameters.html#cb748-1"></a>ch8 &lt;-<span class="st"> </span>trains <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb748-2"><a href="two-parameters.html#cb748-2"></a><span class="st">  </span><span class="kw">select</span>(age, att_end, party, treatment)</span></code></pre></div>
<p>It is always smart to look at a some random samples of the data:</p>
<div class="sourceCode" id="cb749"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb749-1"><a href="two-parameters.html#cb749-1"></a>ch8 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb749-2"><a href="two-parameters.html#cb749-2"></a><span class="st">  </span><span class="kw">sample_n</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## Warning: `...` is not empty.
## 
## We detected these problematic arguments:
## * `needs_dots`
## 
## These dots only exist to allow future extensions and should be empty.
## Did you misspecify an argument?</code></pre>
<pre><code>## # A tibble: 5 x 4
##     age att_end party      treatment
##   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;      &lt;fct&gt;    
## 1    56      11 Democrat   Treated  
## 2    45      11 Democrat   Control  
## 3    47       8 Republican Control  
## 4    63       5 Democrat   Treated  
## 5    61       9 Democrat   Control</code></pre>
<p><code>att_end</code> is a measure of person’s attitude toward immigration, a higher number means to a more conservative, i.e., a more exclusionary stance on immigration into the United States. Running <code>glimpse()</code> is another way of exploring a data set.</p>
<div class="sourceCode" id="cb752"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb752-1"><a href="two-parameters.html#cb752-1"></a>ch8 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb752-2"><a href="two-parameters.html#cb752-2"></a><span class="st">  </span><span class="kw">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 115
## Columns: 4
## $ age       &lt;dbl&gt; 31, 34, 63, 45, 55, 37, 53, 36, 54, 42, 33, 50, 24, 40, 53,…
## $ att_end   &lt;dbl&gt; 11, 10, 5, 11, 5, 13, 13, 11, 12, 10, 9, 9, 13, 7, 8, 13, 8…
## $ party     &lt;chr&gt; "Democrat", "Republican", "Democrat", "Democrat", "Democrat…
## $ treatment &lt;fct&gt; Treated, Treated, Treated, Treated, Control, Treated, Contr…</code></pre>
<p>Pay attention to the variable “type.” Do they make sense? Perhaps. But there are certainly grounds for suspicion. Why are <code>age</code> and <code>att_end</code> doubles rather than integers? Why is <code>party</code> a character variable and <code>treament</code> a factor variable? It could be that these are intentional choices made by the creator of the tibble, i.e., us. These could be mistakes. Or, most likely, these choices are a mixture of sensible and arbitrary. Regardless, it is your responsibility to notice them. You can’t make a good model without looking closely at the data which you are using.</p>
<p><code>skim</code> from the <strong>skimr</strong> package is the best way to get an overview of a tibble.</p>
<div class="sourceCode" id="cb754"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb754-1"><a href="two-parameters.html#cb754-1"></a>ch8 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb754-2"><a href="two-parameters.html#cb754-2"></a><span class="st">  </span><span class="kw">skim</span>()</span></code></pre></div>
<table style="width: auto;" class="table table-condensed">
<caption>
<span id="tab:unnamed-chunk-443">TABLE 8.1: </span>Data summary
</caption>
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
Piped data
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of rows
</td>
<td style="text-align:left;">
115
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of columns
</td>
<td style="text-align:left;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
_______________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Column type frequency:
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
factor
</td>
<td style="text-align:left;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
numeric
</td>
<td style="text-align:left;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
________________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Group variables
</td>
<td style="text-align:left;">
None
</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table>
<thead><tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:right;">
min
</th>
<th style="text-align:right;">
max
</th>
<th style="text-align:right;">
empty
</th>
<th style="text-align:right;">
n_unique
</th>
<th style="text-align:right;">
whitespace
</th>
</tr></thead>
<tbody><tr>
<td style="text-align:left;">
party
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
</tr></tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table>
<thead><tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:left;">
ordered
</th>
<th style="text-align:right;">
n_unique
</th>
<th style="text-align:left;">
top_counts
</th>
</tr></thead>
<tbody><tr>
<td style="text-align:left;">
treatment
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Con: 64, Tre: 51
</td>
</tr></tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead><tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:right;">
mean
</th>
<th style="text-align:right;">
sd
</th>
<th style="text-align:right;">
p0
</th>
<th style="text-align:right;">
p25
</th>
<th style="text-align:right;">
p50
</th>
<th style="text-align:right;">
p75
</th>
<th style="text-align:right;">
p100
</th>
<th style="text-align:left;">
hist
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
age
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
42.37
</td>
<td style="text-align:right;">
12.20
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;">
43
</td>
<td style="text-align:right;">
52
</td>
<td style="text-align:right;">
68
</td>
<td style="text-align:left;">
▆▇▇▇▃
</td>
</tr>
<tr>
<td style="text-align:left;">
att_end
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
9.14
</td>
<td style="text-align:right;">
2.87
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:left;">
▂▃▇▃▃
</td>
</tr>
</tbody>
</table>
<p><code>skim()</code> shows us what the different values of <code>treatment</code> are because it is a factor. Unfortunately, it does not do the same for character variables like <code>party</code>. The ranges for <code>age</code> and <code>att_end</code> seem reasonable. Recall that participants were asked three questions about immigration issues, each of which allowed for an answer which was a strength of agreement between 1 and 5, with higher values indicating more agreement with conservative viewpoints. So, the most liberal possible value is 3 and the most conservative is 15.</p>
<p>Plotting some variables from the dataset is another important practice in exploratory data analysis:</p>
<div class="sourceCode" id="cb755"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb755-1"><a href="two-parameters.html#cb755-1"></a>ch8 <span class="op">%&gt;%</span></span>
<span id="cb755-2"><a href="two-parameters.html#cb755-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> party, <span class="dt">y =</span> age)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb755-3"><a href="two-parameters.html#cb755-3"></a><span class="st">  </span><span class="kw">geom_jitter</span>(<span class="dt">width =</span> <span class="fl">0.1</span>, <span class="dt">height =</span> <span class="dv">0</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb755-4"><a href="two-parameters.html#cb755-4"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"Party"</span>,</span>
<span id="cb755-5"><a href="two-parameters.html#cb755-5"></a>       <span class="dt">y =</span> <span class="st">"Age"</span>,</span>
<span id="cb755-6"><a href="two-parameters.html#cb755-6"></a>       <span class="dt">title =</span> <span class="st">"Age by Party Affiliation in Trains Dataset"</span>)</span></code></pre></div>
<p><img src="book_temp_files/figure-html/unnamed-chunk-444-1.png" width="672"></p>
<p>From this plot, we can gather that Democrats in this dataset are on average older than the Republicans, with their mode age being 50.</p>
<div class="sourceCode" id="cb756"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb756-1"><a href="two-parameters.html#cb756-1"></a>ch8 <span class="op">%&gt;%</span></span>
<span id="cb756-2"><a href="two-parameters.html#cb756-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> treatment, <span class="dt">y =</span> att_end)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb756-3"><a href="two-parameters.html#cb756-3"></a><span class="st">  </span><span class="kw">geom_boxplot</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb756-4"><a href="two-parameters.html#cb756-4"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"Treatment"</span>,</span>
<span id="cb756-5"><a href="two-parameters.html#cb756-5"></a>       <span class="dt">y =</span> <span class="st">"Attitude End"</span>,</span>
<span id="cb756-6"><a href="two-parameters.html#cb756-6"></a>       <span class="dt">title =</span> <span class="st">"Attutide End by Treatment in Trains Dataset"</span>)</span></code></pre></div>
<p><img src="book_temp_files/figure-html/unnamed-chunk-445-1.png" width="672"></p>
<p>Treated individuals have a higher average att_end than the control group. The control group seems to have an high outlier for attitude end.</p>
</div>
<div id="review-of-one-parameter-estimation" class="section level2">
<h2>
<span class="header-section-number">8.2</span> Review of One Parameter Estimation</h2>
<!--  Speak with Cass about adding a Rubin Table here. -->
<p>Recall how we constructed bootstrap distributions for a parameter by sampling with replacement in Chapter <a href="one-parameter.html#one-parameter">7</a>. Through this bootstrapping process, we were able to construct <em>confidence intervals</em> for a parameter. Remember, confidence intervals are a tool to help us identify <em>parameter uncertainty</em>, which is the degree to which we are confident in these estimates of the <em>unknown</em> (and often unknowable) numbers.</p>
<p>We will once again be using the <code>bootstraps()</code> function from the <strong>rsample</strong> package. You might think that since we’re shifting to calculating two parameters of comparison, we might need to conduct the entire bootstrapping process twice, once for each parameter. However, it’s much, much easier than that! We can actually calculate as many parameters as we need to for each replicate instead of doing a separate bootstrap for each parameter we want to track.</p>
<p>Let’s review the material from Chapter <a href="one-parameter.html#one-parameter">7</a> by calculating the confidence interval for both the mean and the 90th percentile of age for Boston commuters. We will build up the code section by section.</p>
<p>First, we select out the only variable we need, with is <code>age</code>, and then create an objects of class <code>bootstraps</code>.</p>
<div class="sourceCode" id="cb757"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb757-1"><a href="two-parameters.html#cb757-1"></a>trains <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb757-2"><a href="two-parameters.html#cb757-2"></a><span class="st">  </span><span class="kw">select</span>(age) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb757-3"><a href="two-parameters.html#cb757-3"></a><span class="st">  </span><span class="kw">bootstraps</span>(<span class="dv">1000</span>)</span></code></pre></div>
<pre><code>## # Bootstrap sampling</code></pre>
<pre><code>## Warning: `...` is not empty.
## 
## We detected these problematic arguments:
## * `needs_dots`
## 
## These dots only exist to allow future extensions and should be empty.
## Did you misspecify an argument?</code></pre>
<pre><code>## # A tibble: 1,000 x 2
##    splits           id           
##    &lt;list&gt;           &lt;chr&gt;        
##  1 &lt;split [115/47]&gt; Bootstrap0001
##  2 &lt;split [115/42]&gt; Bootstrap0002
##  3 &lt;split [115/39]&gt; Bootstrap0003
##  4 &lt;split [115/44]&gt; Bootstrap0004
##  5 &lt;split [115/40]&gt; Bootstrap0005
##  6 &lt;split [115/36]&gt; Bootstrap0006
##  7 &lt;split [115/44]&gt; Bootstrap0007
##  8 &lt;split [115/41]&gt; Bootstrap0008
##  9 &lt;split [115/37]&gt; Bootstrap0009
## 10 &lt;split [115/41]&gt; Bootstrap0010
## # … with 990 more rows</code></pre>
<p>We discussed these objects in Chapter <a href="one-parameter.html#one-parameter">7</a>. The key in working with them is the use of <code>analysis()</code> from the <strong>rsample</strong> package to pull out the underlying data.</p>
<div class="sourceCode" id="cb761"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb761-1"><a href="two-parameters.html#cb761-1"></a>trains <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb761-2"><a href="two-parameters.html#cb761-2"></a><span class="st">  </span><span class="kw">select</span>(age) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb761-3"><a href="two-parameters.html#cb761-3"></a><span class="st">  </span><span class="kw">bootstraps</span>(<span class="dv">1000</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb761-4"><a href="two-parameters.html#cb761-4"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">boot =</span> <span class="kw">map</span>(splits, <span class="op">~</span><span class="st"> </span><span class="kw">analysis</span>(.)))</span></code></pre></div>
<pre><code>## # Bootstrap sampling</code></pre>
<pre><code>## Warning: `...` is not empty.
## 
## We detected these problematic arguments:
## * `needs_dots`
## 
## These dots only exist to allow future extensions and should be empty.
## Did you misspecify an argument?</code></pre>
<pre><code>## # A tibble: 1,000 x 3
##    splits           id            boot              
##  * &lt;list&gt;           &lt;chr&gt;         &lt;list&gt;            
##  1 &lt;split [115/40]&gt; Bootstrap0001 &lt;tibble [115 × 1]&gt;
##  2 &lt;split [115/40]&gt; Bootstrap0002 &lt;tibble [115 × 1]&gt;
##  3 &lt;split [115/44]&gt; Bootstrap0003 &lt;tibble [115 × 1]&gt;
##  4 &lt;split [115/46]&gt; Bootstrap0004 &lt;tibble [115 × 1]&gt;
##  5 &lt;split [115/47]&gt; Bootstrap0005 &lt;tibble [115 × 1]&gt;
##  6 &lt;split [115/43]&gt; Bootstrap0006 &lt;tibble [115 × 1]&gt;
##  7 &lt;split [115/40]&gt; Bootstrap0007 &lt;tibble [115 × 1]&gt;
##  8 &lt;split [115/36]&gt; Bootstrap0008 &lt;tibble [115 × 1]&gt;
##  9 &lt;split [115/36]&gt; Bootstrap0009 &lt;tibble [115 × 1]&gt;
## 10 &lt;split [115/40]&gt; Bootstrap0010 &lt;tibble [115 × 1]&gt;
## # … with 990 more rows</code></pre>
<p><code>boot</code> is now a list-column in the tibble. This workflow — keep adding new columns to the tibble created by the initial call to <code>bootstraps()</code> — is common. Let’s add three more columns.</p>
<div class="sourceCode" id="cb765"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb765-1"><a href="two-parameters.html#cb765-1"></a>trains <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb765-2"><a href="two-parameters.html#cb765-2"></a><span class="st">  </span><span class="kw">select</span>(age) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb765-3"><a href="two-parameters.html#cb765-3"></a><span class="st">  </span><span class="kw">bootstraps</span>(<span class="dv">1000</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb765-4"><a href="two-parameters.html#cb765-4"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">boot =</span> <span class="kw">map</span>(splits, <span class="op">~</span><span class="st"> </span><span class="kw">analysis</span>(.))) <span class="op">%&gt;%</span></span>
<span id="cb765-5"><a href="two-parameters.html#cb765-5"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">ages =</span> <span class="kw">map</span>(boot, <span class="op">~</span><span class="st"> </span><span class="kw">pull</span>(., age))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb765-6"><a href="two-parameters.html#cb765-6"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">age_mean =</span> <span class="kw">map_dbl</span>(ages, <span class="op">~</span><span class="st"> </span><span class="kw">mean</span>(.))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb765-7"><a href="two-parameters.html#cb765-7"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">age_90th =</span> <span class="kw">map_dbl</span>(ages, <span class="op">~</span><span class="st"> </span><span class="kw">quantile</span>(., <span class="dt">probs =</span> <span class="fl">0.9</span>)))</span></code></pre></div>
<pre><code>## # Bootstrap sampling</code></pre>
<pre><code>## Warning: `...` is not empty.
## 
## We detected these problematic arguments:
## * `needs_dots`
## 
## These dots only exist to allow future extensions and should be empty.
## Did you misspecify an argument?</code></pre>
<pre><code>## # A tibble: 1,000 x 6
##    splits           id            boot              ages       age_mean age_90th
##  * &lt;list&gt;           &lt;chr&gt;         &lt;list&gt;            &lt;list&gt;        &lt;dbl&gt;    &lt;dbl&gt;
##  1 &lt;split [115/40]&gt; Bootstrap0001 &lt;tibble [115 × 1… &lt;dbl [115…     43.2     59.6
##  2 &lt;split [115/43]&gt; Bootstrap0002 &lt;tibble [115 × 1… &lt;dbl [115…     41.8     56  
##  3 &lt;split [115/47]&gt; Bootstrap0003 &lt;tibble [115 × 1… &lt;dbl [115…     40.7     58.8
##  4 &lt;split [115/43]&gt; Bootstrap0004 &lt;tibble [115 × 1… &lt;dbl [115…     42.3     57  
##  5 &lt;split [115/44]&gt; Bootstrap0005 &lt;tibble [115 × 1… &lt;dbl [115…     43.5     60  
##  6 &lt;split [115/44]&gt; Bootstrap0006 &lt;tibble [115 × 1… &lt;dbl [115…     42.1     57  
##  7 &lt;split [115/42]&gt; Bootstrap0007 &lt;tibble [115 × 1… &lt;dbl [115…     43.8     58.2
##  8 &lt;split [115/44]&gt; Bootstrap0008 &lt;tibble [115 × 1… &lt;dbl [115…     42.8     57  
##  9 &lt;split [115/39]&gt; Bootstrap0009 &lt;tibble [115 × 1… &lt;dbl [115…     41.4     58.2
## 10 &lt;split [115/46]&gt; Bootstrap0010 &lt;tibble [115 × 1… &lt;dbl [115…     39.8     55  
## # … with 990 more rows</code></pre>
<p>We could simplify this code by combining all the <code>mutate()</code> steps into a single line, create one function which does the <code>analyst()</code>, <code>pull()</code>, <code>mean()</code> and <code>quantile()</code> steps together. However, when building up code like this, we prefer to go line-by-line, at least until everything is working. We could also “feed” this pipe directly into a call to <code>ggplot()</code>. However, it is better practice to save the needed results in an object and then use that object for plotting, especially if creating the data takes some time. For replication purposes, we use <code>set.seed()</code>.</p>
<div class="sourceCode" id="cb769"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb769-1"><a href="two-parameters.html#cb769-1"></a><span class="kw">set.seed</span>(<span class="dv">9</span>)</span>
<span id="cb769-2"><a href="two-parameters.html#cb769-2"></a></span>
<span id="cb769-3"><a href="two-parameters.html#cb769-3"></a>x &lt;-<span class="st"> </span>trains <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb769-4"><a href="two-parameters.html#cb769-4"></a><span class="st">  </span><span class="kw">select</span>(age) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb769-5"><a href="two-parameters.html#cb769-5"></a><span class="st">  </span><span class="kw">bootstraps</span>(<span class="dv">1000</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb769-6"><a href="two-parameters.html#cb769-6"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">ages =</span> <span class="kw">map</span>(splits, <span class="op">~</span><span class="st"> </span><span class="kw">analysis</span>(.) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb769-7"><a href="two-parameters.html#cb769-7"></a><span class="st">                              </span><span class="kw">pull</span>(., age))) <span class="op">%&gt;%</span></span>
<span id="cb769-8"><a href="two-parameters.html#cb769-8"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">age_mean =</span> <span class="kw">map_dbl</span>(ages, <span class="op">~</span><span class="st"> </span><span class="kw">mean</span>(.))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb769-9"><a href="two-parameters.html#cb769-9"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">age_90th =</span> <span class="kw">map_dbl</span>(ages, <span class="op">~</span><span class="st"> </span><span class="kw">quantile</span>(., <span class="dt">probs =</span> <span class="fl">0.9</span>))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb769-10"><a href="two-parameters.html#cb769-10"></a><span class="st">  </span><span class="kw">select</span>(age_mean, age_90th)</span></code></pre></div>
<p>We no longer need to re-run this code each time we adjust the plot.</p>
<div class="sourceCode" id="cb770"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb770-1"><a href="two-parameters.html#cb770-1"></a>x <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb770-2"><a href="two-parameters.html#cb770-2"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb770-3"><a href="two-parameters.html#cb770-3"></a><span class="st">    </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> age_mean), <span class="dt">binwidth =</span> <span class="fl">.1</span>, <span class="dt">fill =</span> <span class="st">"red"</span>) <span class="op">+</span></span>
<span id="cb770-4"><a href="two-parameters.html#cb770-4"></a><span class="st">    </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> age_90th), <span class="dt">binwidth =</span> <span class="fl">.1</span>, <span class="dt">fill =</span> <span class="st">"blue"</span>) <span class="op">+</span></span>
<span id="cb770-5"><a href="two-parameters.html#cb770-5"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"Estimate in Years"</span>,</span>
<span id="cb770-6"><a href="two-parameters.html#cb770-6"></a>        <span class="dt">title =</span> <span class="st">"Posterior Distribution for the Mean and the 90th Percentile of </span></span>
<span id="cb770-7"><a href="two-parameters.html#cb770-7"></a><span class="st">         Age for Boston Commuters"</span>)</span></code></pre></div>
<p><img src="book_temp_files/figure-html/unnamed-chunk-450-1.png" width="672"></p>
<p>Remember that some parameters, like the mean, are easy to calculate with built in functions like <code>lm()</code> while others require the use of the bootstrap. Note how similar the <code>lm()</code> solution is:</p>
<div class="sourceCode" id="cb771"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb771-1"><a href="two-parameters.html#cb771-1"></a>trains <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb771-2"><a href="two-parameters.html#cb771-2"></a><span class="st">  </span><span class="kw">lm</span>(age <span class="op">~</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">data =</span> .) <span class="op">%&gt;%</span></span>
<span id="cb771-3"><a href="two-parameters.html#cb771-3"></a><span class="st">  </span><span class="kw">tidy</span>(<span class="dt">conf.int =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb771-4"><a href="two-parameters.html#cb771-4"></a><span class="st">  </span><span class="kw">select</span>(conf.low, estimate, conf.high)</span></code></pre></div>
<pre><code>## Warning: `...` is not empty.
## 
## We detected these problematic arguments:
## * `needs_dots`
## 
## These dots only exist to allow future extensions and should be empty.
## Did you misspecify an argument?</code></pre>
<pre><code>## # A tibble: 1 x 3
##   conf.low estimate conf.high
##      &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
## 1     40.1     42.4      44.6</code></pre>
<p>The 95% confidence interval calculated via <code>lm()</code> is, more or less, the same as the one we calculate “by hand” using the bootstrap: 40, 44.6.</p>
<!-- DK: Should also add a "validity" or "representativeness" discussion about what population this estimate applies to. All people? All people in Boston? All Boston commuters? Do we need to get into prediction stuff? -->
</div>
<div id="age-as-a-function-of-party" class="section level2">
<h2>
<span class="header-section-number">8.3</span> <code>age</code> as a function of <code>party</code>
</h2>
<!-- No use of bootstrap. Make clear the distinction between "modeling for prediction" and "modeling for causation." The first is only about comparisons between categories. The second is stronger, a claim about changing an individual; it is a claim about potential outcomes. -->
<p>But what if, instead of having no other information about our sample beyond their ages, we also knew their political party? How would we make a model which included this other information? This is a model for prediction, rather than a model for causal inference, because <code>age</code> can not be changed regardless what happens to <code>party</code>. That is, someone’s age is the same regardless of the party of which they are a member.</p>
<p>The simplest model would be to guess that a person’s age, conditional on their party membership, is equal to the mean age of people in that party.</p>
<div class="sourceCode" id="cb774"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb774-1"><a href="two-parameters.html#cb774-1"></a>trains <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb774-2"><a href="two-parameters.html#cb774-2"></a><span class="st">  </span><span class="kw">group_by</span>(party) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb774-3"><a href="two-parameters.html#cb774-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">age_average =</span> <span class="kw">mean</span>(age))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## Warning: `...` is not empty.
## 
## We detected these problematic arguments:
## * `needs_dots`
## 
## These dots only exist to allow future extensions and should be empty.
## Did you misspecify an argument?</code></pre>
<pre><code>## # A tibble: 2 x 2
##   party      age_average
##   &lt;chr&gt;            &lt;dbl&gt;
## 1 Democrat          42.6
## 2 Republican        41.2</code></pre>
<p>If a new Boston commuter named Jake showed up at the station, what would be a good guess as to their age? If you don’t know anything else about this person, then guessing the mean age of the sample, 42.4 makes sense, as we learned in Chapter <a href="one-parameter.html#one-parameter">7</a>. But, if we know that the person is a Republican, than this guess would be (slightly) too high. Among the population of Boston commuters, (it seems that) Republican’s are younger than average. So, conditional on knowing that Jake is a Republican, we should guess that his age is 41.2.</p>
<p>However, instead of calculating these averages by hand, it is more convenient to use <code>lm()</code>, a function for creating linear statistical models. Start by estimating a simple model:</p>
<!-- DK: Would now be a time to start using tidymodels syntax so that we could avoid the horribleness of the dot? -->
<div class="sourceCode" id="cb778"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb778-1"><a href="two-parameters.html#cb778-1"></a>trains <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb778-2"><a href="two-parameters.html#cb778-2"></a><span class="st">  </span><span class="kw">lm</span>(<span class="dt">data =</span> ., age <span class="op">~</span><span class="st"> </span>party <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = age ~ party - 1, data = .)
## 
## Coefficients:
##   partyDemocrat  partyRepublican  
##           42.60            41.16</code></pre>
<div id="model-structure-1" class="section level3">
<h3>
<span class="header-section-number">8.3.1</span> Model Structure</h3>
<p>The initials “lm” stand for “linear model.” We are creating a model in which age is a function of party. The “-1” term causes the model to provide us with the mean for each group. The coefficient estimates are the same as the mean values for age within each party.</p>
<p>There are three parts of understanding any model structure: whether it is causal or predictive, the mathematical formula, and realism. This model is predictive and has nothing to do with causality. Rather than modelling how the explanatory variable will change the outcome variable, we are using the explanatory variable (party) to simply predict the outcome variable (age). The difference between these two model types becomes clear when we construct a Preceptor Table:</p>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#mwnldxeqiq .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#mwnldxeqiq .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mwnldxeqiq .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mwnldxeqiq .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mwnldxeqiq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwnldxeqiq .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mwnldxeqiq .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mwnldxeqiq .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mwnldxeqiq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mwnldxeqiq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mwnldxeqiq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mwnldxeqiq .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#mwnldxeqiq .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#mwnldxeqiq .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#mwnldxeqiq .gt_from_md > :first-child {
  margin-top: 0;
}

#mwnldxeqiq .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mwnldxeqiq .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#mwnldxeqiq .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#mwnldxeqiq .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwnldxeqiq .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#mwnldxeqiq .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwnldxeqiq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mwnldxeqiq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwnldxeqiq .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mwnldxeqiq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#mwnldxeqiq .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mwnldxeqiq .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#mwnldxeqiq .gt_left {
  text-align: left;
}

#mwnldxeqiq .gt_center {
  text-align: center;
}

#mwnldxeqiq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mwnldxeqiq .gt_font_normal {
  font-weight: normal;
}

#mwnldxeqiq .gt_font_bold {
  font-weight: bold;
}

#mwnldxeqiq .gt_font_italic {
  font-style: italic;
}

#mwnldxeqiq .gt_super {
  font-size: 65%;
}

#mwnldxeqiq .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="mwnldxeqiq" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>ID</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Age</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Party</strong></th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>1</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>34</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>2</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>...</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>...</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>...</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>55</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>36</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Democrat</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>...</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>...</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>...</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>204</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>44</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Democrat</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>205</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>...</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>...</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>...</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>1,000</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>50</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>...</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>...</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>...</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>100,000</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
    </tr>
</tbody>
</table></div>
<p>The purpose of a Preceptor Table is to capture all of the data such that if the question marks were filled out, one wouldn’t need to construct a model. The rows in this Preceptor Table represent the (roughly) 100,000 commuters on which our model is extrapolating. Only 115 of these commuters had their data recorded in the experiment, which is why most observations lack data.</p>
<p>This table is very simple, which is the point. There is no causal effect as we are simply trying to predict the immutable variable of age. Rather than representing unknown causal effects as they may in other Preceptor Tables, the question marks in this table simply denote missing data.</p>
<p>This mathematical formula will also help us better understand the model:</p>
<p><span class="math display">\[ y_i = b_1 x_r + b_2 x_d \]</span></p>
<p>You couldn’t know the true value of our parameters (<span class="math inline">\(b_1\)</span> and <span class="math inline">\(b_2\)</span>) unless you surveyed every single commuter in the station. This is why we use models to give us estimates. A hat denotes a number that is constant and no longer variable. Because we have estimates for our parameters, <span class="math inline">\(\hat{b_1}\)</span> and <span class="math inline">\(\hat{b_1}\)</span>, are denoted by hats. With these numbers plugged in, you determine a singular y value (age) for each observation, thus the denotation <span class="math inline">\(\hat{y_i}\)</span>. This is called the <em>fitted value</em>.</p>
<p><span class="math display">\[ \hat{y_i} = \hat{b_1} x_r + \hat{b_2} x_d  \]</span>
<span class="math display">\[ \hat{y_i} = (41.16)x_r + (42.6)x_d \]</span>
When the individual is a Republican (<span class="math inline">\(x_r\)</span>=1 and <span class="math inline">\(x_d\)</span>=0), their fitted value is 41.16. When the individual is a Democrat (<span class="math inline">\(x_r\)</span>=0 and <span class="math inline">\(x_d\)</span>=1), their fiited value is 42.6.</p>
<p>The equation is not finished yet!</p>
<p><span class="math display">\[\epsilon_i = y_i - \hat{y_i}\]</span>
In order to calculate each observation’s residual, you subtract the observation’s age by their fitted value.</p>
<p><span class="math display">\[ y_i = \hat{b_1}x_r + \hat{b_2} x_d + \epsilon_i \]</span>
Once you do this, you have a complete equation.</p>
<p>The final aspect of model structure is realism. Does this model reflect the real world accurately?</p>
<!-- More to say about realism? -->
</div>
<div id="parameter-uncertainty-1" class="section level3">
<h3>
<span class="header-section-number">8.3.2</span> Parameter Uncertainty</h3>
<p>How uncertain are our estimates for age? Again, we use the same tools we have used before:</p>
<div class="sourceCode" id="cb780"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb780-1"><a href="two-parameters.html#cb780-1"></a>trains <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb780-2"><a href="two-parameters.html#cb780-2"></a><span class="st">  </span><span class="kw">lm</span>(<span class="dt">data =</span> ., age <span class="op">~</span><span class="st"> </span>party <span class="op">-</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb780-3"><a href="two-parameters.html#cb780-3"></a><span class="st">  </span><span class="kw">tidy</span>(<span class="dt">conf.int =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb780-4"><a href="two-parameters.html#cb780-4"></a><span class="st">  </span><span class="kw">select</span>(term, conf.low, estimate, conf.high)</span></code></pre></div>
<pre><code>## Warning: `...` is not empty.
## 
## We detected these problematic arguments:
## * `needs_dots`
## 
## These dots only exist to allow future extensions and should be empty.
## Did you misspecify an argument?</code></pre>
<pre><code>## # A tibble: 2 x 4
##   term            conf.low estimate conf.high
##   &lt;chr&gt;              &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
## 1 partyDemocrat       40.1     42.6      45.1
## 2 partyRepublican     35.6     41.2      46.7</code></pre>
<p>The confidence intervals that we’ve generated display the upper and lower bounds of the mean age of Democrat and Republican commuters on this train platform. This touches on the idea of <strong>parameter uncertainty</strong>: even if a model is constructed in a logical way, we are unable to know our parameters exactly, the parameters in this case being the mean ages of the two parties. Confidence intervals are one way to capture this uncertainty, so that we don’t over-confidently put forward one value rather than a range.</p>
<div class="sourceCode" id="cb783"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb783-1"><a href="two-parameters.html#cb783-1"></a>trains <span class="op">%&gt;%</span></span>
<span id="cb783-2"><a href="two-parameters.html#cb783-2"></a><span class="st">  </span><span class="kw">group_by</span>(party) <span class="op">%&gt;%</span></span>
<span id="cb783-3"><a href="two-parameters.html#cb783-3"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="kw">n</span>())</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## Warning: `...` is not empty.
## 
## We detected these problematic arguments:
## * `needs_dots`
## 
## These dots only exist to allow future extensions and should be empty.
## Did you misspecify an argument?</code></pre>
<pre><code>## # A tibble: 2 x 2
##   party      `n()`
##   &lt;chr&gt;      &lt;int&gt;
## 1 Democrat      96
## 2 Republican    19</code></pre>
<p>You may notice how the range of the confidence interval for Republicans is larger. This may be because far fewer Republicans were surveyed than Democrats – 19 to 96. Parameter estimates are always exclusively based on the data that the model is fed, so factors like sample size can impact our parameter uncertainty. With more data to work with, we can more accurately capture the true mean age of the Democrat commuters.</p>
</div>
<div id="unmodeled-variation-1" class="section level3">
<h3>
<span class="header-section-number">8.3.3</span> Unmodeled Variation</h3>
<p>If a new Democrat entered the train station, how easy would it be to guess their age with our model? Could you confidently say that they would be within the Democrat interval bounds of 40 and 45?</p>
<p><span class="math display">\[ y_i = b_0 + b_1 x_i + \epsilon_i \]</span></p>
<p>One shouldn’t be too confident in that prediction. The new Democrat’s age comes in two parts: the beta (determined by their political party) and their epsilon/residual (how much noise there is in this observation that offsets it from the beta prediction). While the beta values have been determined by our model, the epsilon value represents <em>unmodeled variation</em> that could likely put the value outside of these bounds.</p>
</div>
<div id="preceptor-table" class="section level3">
<h3>
<span class="header-section-number">8.3.4</span> Preceptor Table</h3>
<p>To continue our discussion of unmodeled variation, we’ll bring back our Preceptor Table. This time, it will be a reduced table for just a few observations with data:</p>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#wuzhuiuqvw .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#wuzhuiuqvw .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wuzhuiuqvw .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#wuzhuiuqvw .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#wuzhuiuqvw .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wuzhuiuqvw .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wuzhuiuqvw .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#wuzhuiuqvw .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#wuzhuiuqvw .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#wuzhuiuqvw .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#wuzhuiuqvw .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#wuzhuiuqvw .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#wuzhuiuqvw .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#wuzhuiuqvw .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#wuzhuiuqvw .gt_from_md > :first-child {
  margin-top: 0;
}

#wuzhuiuqvw .gt_from_md > :last-child {
  margin-bottom: 0;
}

#wuzhuiuqvw .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#wuzhuiuqvw .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#wuzhuiuqvw .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wuzhuiuqvw .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#wuzhuiuqvw .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wuzhuiuqvw .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#wuzhuiuqvw .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wuzhuiuqvw .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wuzhuiuqvw .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#wuzhuiuqvw .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wuzhuiuqvw .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#wuzhuiuqvw .gt_left {
  text-align: left;
}

#wuzhuiuqvw .gt_center {
  text-align: center;
}

#wuzhuiuqvw .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#wuzhuiuqvw .gt_font_normal {
  font-weight: normal;
}

#wuzhuiuqvw .gt_font_bold {
  font-weight: bold;
}

#wuzhuiuqvw .gt_font_italic {
  font-style: italic;
}

#wuzhuiuqvw .gt_super {
  font-size: 65%;
}

#wuzhuiuqvw .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="wuzhuiuqvw" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>ID</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Age</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Party</strong></th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Sam</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>31</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Democrat</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Darren</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>34</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Achele</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>63</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Democrat</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Anwar</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>45</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Democrat</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>David</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>55</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Declan</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>53</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Democrat</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Adele</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>24</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
    </tr>
</tbody>
</table></div>
<p>Let’s begin by adding each individual’s fitted value for age from our model.</p>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#xqtbywsmes .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xqtbywsmes .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xqtbywsmes .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#xqtbywsmes .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#xqtbywsmes .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xqtbywsmes .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xqtbywsmes .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xqtbywsmes .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xqtbywsmes .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xqtbywsmes .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xqtbywsmes .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xqtbywsmes .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#xqtbywsmes .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xqtbywsmes .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xqtbywsmes .gt_from_md > :first-child {
  margin-top: 0;
}

#xqtbywsmes .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xqtbywsmes .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xqtbywsmes .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#xqtbywsmes .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xqtbywsmes .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#xqtbywsmes .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xqtbywsmes .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xqtbywsmes .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xqtbywsmes .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xqtbywsmes .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#xqtbywsmes .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xqtbywsmes .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#xqtbywsmes .gt_left {
  text-align: left;
}

#xqtbywsmes .gt_center {
  text-align: center;
}

#xqtbywsmes .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xqtbywsmes .gt_font_normal {
  font-weight: normal;
}

#xqtbywsmes .gt_font_bold {
  font-weight: bold;
}

#xqtbywsmes .gt_font_italic {
  font-style: italic;
}

#xqtbywsmes .gt_super {
  font-size: 65%;
}

#xqtbywsmes .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="xqtbywsmes" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>ID</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Age</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Party</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>fitted</strong></th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Sam</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>31</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Democrat</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>42.6</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Darren</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>34</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>41.1</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Achele</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>63</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Democrat</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>42.6</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Anwar</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>45</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Democrat</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>42.6</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>David</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>55</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>41.1</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Declan</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>53</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Democrat</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>42.6</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Adele</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>24</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>41.1</p>
</div></td>
    </tr>
</tbody>
</table></div>
<p>The fitted values are the same for all Republicans and for all Democrats. Remember that the actual age of each observation is the addition of the model and noise (or the residual). The fitted value represents the “model” part of that equation, which is why each value is one of the two coefficients outputted by our model.</p>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#jcjpwfnqom .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jcjpwfnqom .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jcjpwfnqom .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jcjpwfnqom .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jcjpwfnqom .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jcjpwfnqom .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jcjpwfnqom .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jcjpwfnqom .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jcjpwfnqom .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jcjpwfnqom .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jcjpwfnqom .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jcjpwfnqom .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#jcjpwfnqom .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jcjpwfnqom .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jcjpwfnqom .gt_from_md > :first-child {
  margin-top: 0;
}

#jcjpwfnqom .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jcjpwfnqom .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jcjpwfnqom .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#jcjpwfnqom .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jcjpwfnqom .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#jcjpwfnqom .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jcjpwfnqom .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jcjpwfnqom .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jcjpwfnqom .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jcjpwfnqom .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#jcjpwfnqom .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jcjpwfnqom .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#jcjpwfnqom .gt_left {
  text-align: left;
}

#jcjpwfnqom .gt_center {
  text-align: center;
}

#jcjpwfnqom .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jcjpwfnqom .gt_font_normal {
  font-weight: normal;
}

#jcjpwfnqom .gt_font_bold {
  font-weight: bold;
}

#jcjpwfnqom .gt_font_italic {
  font-style: italic;
}

#jcjpwfnqom .gt_super {
  font-size: 65%;
}

#jcjpwfnqom .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="jcjpwfnqom" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>ID</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>$$y_i$$</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Party</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>fitted</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>residual</strong></th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Sam</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>31</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Democrat</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>42.6</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>11.6</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Darren</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>34</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>41.1</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>7.1</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Achele</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>63</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Democrat</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>42.6</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>-20.4</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Anwar</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>45</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Democrat</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>42.6</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>-2.4</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>David</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>55</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>41.1</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>-13.9</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Declan</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>53</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Democrat</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>42.6</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>-10.4</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Adele</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>24</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>41.1</p>
</div></td>
      <td class="gt_row gt_center"><div class="gt_from_md">
<p>17.1</p>
</div></td>
    </tr>
</tbody>
</table></div>
<p>The other half of the equation is the residual, which accounts for the difference between each individual’s age from its fitted value. Note the new column name for age: <span class="math inline">\(y_i\)</span> is the sum of the fitted and epilson value.
Recall our discussion of unmodeled variation. This Preceptor table shows how just a sample of 7 individuals captures a wide range of residuals, making it difficult to predict the age of a new individual who walks in the room even using our model.</p>
<!-- DK: I went fast above, but that is all the key material. Still need to add a Rubin Table example, highlighting that this is modeling for prediction. There is only one column for Y because it is impossible to change someone's age, whatever manipulations you make to party. -->
<!-- DK: Is the below text from previous versions worth keeping? -->
<!-- In the original dataset — and therefore, most likely for the majority of the bootstrapped samples — the number of democratic subjects vastly outnumber the number of republican subjects. Why does this lead to wider confidence intervals? -->
<!-- Intuitively, we can think about the matter like this: since we have more data to work with for the democratic party, we are more confident that the mean income measurement from each bootstrapped sample is representative of the *true mean income of that sample* — remember, this "true value" is what we're trying to approximate through the bootstrapping process. This idea is more obvious on an extreme scale: if we were given one billion individuals' incomes, we'd feel more comfortable approximating the world's average income from that dataset than if we only had two individual's incomes to work with. These two individuals could be impoverished, or they could be billionaires, and we wouldn't reliably make any conclusions regarding world income based on those two individuals alone. Because there are far more democrats in the original sample than there are republicans, we are therefore more confident that the democrats' true average income is represented by the democratic subset of the data than we are of the republicans' true average income being accurately represented by the republican subset. -->
<!-- The math behind the confidence INTERVALS specifically is a little more complex, but the premise behind it is simple. First, recall that bootstrapping with replacement creates different assortments of the data due to the possibility of data points being omitted from each sample, or values being included more than once. If I was sampling with replacement from the list of 1, 2, 3, 4, 5, One replicate might include "1" three times, while another might include "1" zero times. -->
<!-- It is because of this possibility for omission/duplicate inclusion that subsets with small sample sizes are at the mercy of being misrepresented by sampling with replacement. In small sample sizes, individual points carry significant weight. As a result, we are more likely to get extreme values — values that are unreasonably small or large — the smaller the size of the subset. -->
<!-- As it relates to the `trains` dataset, the subset with the larger sample size, the democrat contingent, is less susceptible from this because each data point carries far less weight — each one gets drowned out by the many other democrats in the dataset, and removing or duplicating a single or even a few data points won't drastically shift measurements, such as mean and median, for most of the bootstrap samples. However, for the smaller republican subset, even a single omission or double inclusion of a data point through bootstrapping with replacement could generate extreme values for these measurements. -->
<!-- In short: If we have fewer data points, bootstrap parameter calculations are more likely to be further from the true values, and our confidence intervals will be wider as a result. It's important to understand the mechanics behind these relationships as we continue our work with confidence intervals going forward. -->
</div>
</div>
<div id="estimate-other-things" class="section level2">
<h2>
<span class="header-section-number">8.4</span> Estimate other things</h2>
<!-- Often functions of these parameters, which are, after all, just functions of the bootstrap samples. Consider the difference in income between treated and control. Again, this is a case in which we know every number. There is no missing data. So, we can calculate exactly the average income for control and the average income for treated, as we did above. With those two parameters estimated, we can calculate the average difference between the two --- or the difference between the averages, which is the same thing because all this is linear. But what about the uncertainty of that difference? Again, the bootstrap comes to our rescue. What does the 95% confidence interval of the difference look like? Does it include zero? Would we expect it to? How does randomization of treatment/control figure in? -->
</div>
<div id="estimate-trickier-things" class="section level2">
<h2>
<span class="header-section-number">8.5</span> Estimate trickier things</h2>
<!-- Explain how the above is a bit of a cheat since linear functions are special: the average difference is the same as the difference between the averages. This is an important point. But there are lots of things which are not like that! Consider the income ratio between the median treated and median control. This is something which, a priori, I might be as interested in as the difference in means. But the ratio of the medians is not the same thing as the median of the ratios! This is a key point. In order to calculate this, we need to, again, take the bootstrap and, in each bootstrap sample, calculate the median income of the treated, the median income of the controls, and record that ratio. We then save that ratio and look at its bootstrap distribution at the end of the exercise. -->
<!-- EM: I feel like having "Estimate other things" and "Estimate trickier things" are redundant as chapter sections because they are mostly addressed through the sections that sandwich them.  -->
</div>
<div id="using-the-predict-function" class="section level2">
<h2>
<span class="header-section-number">8.6</span> Using the predict() function</h2>
<p>We will introduce a new function here, <code>predict()</code>, which takes in a model as input and, given a specified parameter, will predict the value and confidence intervals of any given data point:</p>
<div class="sourceCode" id="cb787"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb787-1"><a href="two-parameters.html#cb787-1"></a>trains.lm &lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="dt">data =</span> trains, income <span class="op">~</span><span class="st"> </span>party)</span>
<span id="cb787-2"><a href="two-parameters.html#cb787-2"></a>newdata &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">party =</span> <span class="kw">c</span>(<span class="st">"Republican"</span>, <span class="st">"Democrat"</span>))</span>
<span id="cb787-3"><a href="two-parameters.html#cb787-3"></a></span>
<span id="cb787-4"><a href="two-parameters.html#cb787-4"></a><span class="kw">predict</span>(trains.lm, newdata, <span class="dt">interval =</span> <span class="st">"prediction"</span>)</span></code></pre></div>
<pre><code>##        fit       lwr      upr
## 1 167368.4  17113.05 317623.8
## 2 136755.2 -10456.40 283966.8</code></pre>
<p>Note that for both democrats and republicans, the prediction interval is significantly wider than the confidence interval. This discrepancy illustrates the <em>unmodeled variation</em> of the dataset: while the mean values, as indicated by the “fit” column, are still the best guess you can make for any given subject, we are less confident in the value range of that individual subject than we are of the value range of the mean. <em>The unmodeled variation widens the prediction intervals relative to the confidence intervals.</em></p>
<p>Recall our discussion regarding the wider confidence intervals for republican subjects than democrat subjects (<em>would like to attach a link here that takes reader up to that part of the chapter</em>). Although the republican and democrat average incomes had vastly different confidence intervals — the republican convidence intervals were much wider — they have very similar prediction intervals. Although the <em>parameter uncertainty</em> of these two parameters were very different, the <em>unmodeled variation</em> for both parameters was roughly the same. Even though the data points were equally spread out for both democrat and republican income, were were able to more confidently pinpoint a true value for democrat income because we had more data to work with.</p>
<div id="validity" class="section level4">
<h4>
<span class="header-section-number">8.6.0.1</span> Validity</h4>
<p>We just spent a ton of time analyzing the relationship between party and income in Enos’ study. Although we have already accounted for parameter uncertainty (the confidence intervals) and unmodeled variation uncertainty (the prediction intervals), we have not accounted for the <em>validity</em> of his model — that is, whether the ideas he wishes to capture are truly represented by the data he collects.</p>
<p>For example, take the <code>income</code> variable. How do you answer this question if you, having made a fortune years ago, are currently earning an income of zero? How do you answer it if you are one-half of a married couple — is it both your incomes combined, your incomes divided by two, or some other calculation? Enos really means to distinguish between poorer and richer subjects through this measure, but the ambiguity in the question “what is your income” makes us doubt whether the income figures truly help us distinguish between these two types of people.</p>
<p>Another variable which, troublingly, raises concerns regarding validity is the <code>att_end</code> variable. Through this variable, Enos hopes to measure how people’s political attitudes change, and the implications this could have for the political landscape of the United States— however, what he is truly measuring is how people respond to his specific survey questions, which required responses on a scale of 1-5 and were aggregated and scaled to a total out of 15. What if he asked people to respond on a scale of 1-3, or a scale of 1-30? We do not mean to say that his choices were unreasonable — rather, we think it is important to note that he would have gotten very different answers using different reasonable choices. <strong>If you’re running Trump’s 2020 campaign, you don’t care about how people filled out Enos’ specific survey. You care about the statistics that data claims to represent</strong>.</p>
<p>It is always important to keep the problem of validity in the back of our minds as we investigate data sets and how the data within these sets are collected. Given the many factors — those we are aware of and those we are not aware of — that go into any kind of data collection, there is no way to guarantee 100 percent validity.</p>
</div>
<div id="unknown-unknowns-1" class="section level4">
<h4>
<span class="header-section-number">8.6.0.2</span> Unknown unknowns</h4>
<p>Yet another area of uncertainty that might not be immediately obvious is the possibiity of unknown unknowns — that is, all the things that might change with time. How do we know that our model — which relies heavily on figures like income and party affiliation — will still be able to draw conclusions about America 50 years from now? Mass migrations, political revolutions, and world wars are just a few of the things that could render all the conclusions we draw from the <code>trains</code> dataset moot. And, other than expanding our confidence intervals to the point of uselessness, there’s no way to account for the unknown unknowns.</p>
<p>In short, <em>while we can accept the model as representative of the United States at or around 2012 (the year in which Enos conducted his study), we cannot reasonably extrapolate that to the far future</em>.</p>
<p>It is always important to keep the problem of validity in the back of our minds as we investigate data sets and how the data within these sets are collected. Given the many factors — those we are aware of and those we are not aware of — that go into any kind of data collection, there is no way to guarantee 100 percent validity.</p>
</div>
</div>
<div id="att_end-as-a-function-of-treatment" class="section level2">
<h2>
<span class="header-section-number">8.7</span> <code>att_end</code> as a function of <code>treatment</code>
</h2>
<p>Let’s establish the two types of models we’ve studied thus far. What we explored above was a predictive model: with someone’s party affiliation, we can make a better guess as to what their age is. In this example, we’ll explore a causal model, looking for the casual effect of randomly assigned treatments on att_end.</p>
<p>Here’s the model using lm():</p>
<div class="sourceCode" id="cb789"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb789-1"><a href="two-parameters.html#cb789-1"></a><span class="kw">lm</span>(<span class="dt">data =</span> trains, att_end <span class="op">~</span><span class="st"> </span>treatment <span class="op">-</span><span class="st"> </span><span class="dv">1</span>, )</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = att_end ~ treatment - 1, data = trains)
## 
## Coefficients:
## treatmentTreated  treatmentControl  
##           10.000             8.453</code></pre>
<p>The <em>fitted value</em> of att_end was 8.45 for the control group and 10 for the treated group. Because a higher att_end means more conservative towards stances on immigration, it seems that treated individuals ended up more conservative on this issue than the control group.</p>
<div id="model-structure-2" class="section level3">
<h3>
<span class="header-section-number">8.7.1</span> Model Structure</h3>
<p>Our predictive model helped us make guesses as to what an individual’s age is. However, that’s just about all we can do with this relationship. Recall that the trains dataset was originally introduced in the context of the Rubin Causal Model back in Chapter <a href="rubin-causal-model.html#rubin-causal-model">3</a>. That model cannot be applied to the relationship between party and income because these values were independently decided outside the experiment — although we were able to identify correlations between those two variables, the combinations of party and income were predetermined and not randomly assigned in a way that allows us to establish a causal relationship. If an individual suddenly decided to change party affiliations, we wouldn’t suddenly expect his or her income to spike or plummet.</p>
<p>In conclusion, while we can explore correlations or trends between party and income, we cannot label these correlations or trends as causal. However, <code>treatment</code> was a variable that was randomly assigned to subjects, and we have a variable that was measured after this random assignment, <code>att_end</code>. With this setup, we can calculate the Average Treatment Effect, or the average difference in <code>att_end</code> for treated subjects and control subjects.</p>
<div class="sourceCode" id="cb791"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb791-1"><a href="two-parameters.html#cb791-1"></a>mean_ends &lt;-<span class="st"> </span>trains <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb791-2"><a href="two-parameters.html#cb791-2"></a><span class="st">  </span><span class="kw">group_by</span>(treatment) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb791-3"><a href="two-parameters.html#cb791-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_att_end =</span> <span class="kw">mean</span>(att_end))</span></code></pre></div>
<p>Next, the second part of model structure, the formula.</p>
<p><span class="math display">\[ y_i = b_1 x_t + b_2 x_c\]</span>
Once again, we start here. We can make our parameters constants, <span class="math inline">\(\hat{b_1}\)</span> and <span class="math inline">\(\hat{b_1}\)</span>, by assigning them to the estimates of the model. Plugging in these numbers outputs an estimated att_end for the observation, or our <em>fitted value</em> <span class="math inline">\(\hat{y_i}\)</span>.</p>
<p><span class="math display">\[ \hat{y_i} = \hat{b_1} x_t + \hat{b_2} x_c  \]</span>
<span class="math display">\[ \hat{y_i} = (8.45)x_t + (10)x_c \]</span>
When the individual is treated (<span class="math inline">\(x_t\)</span>=1 and <span class="math inline">\(x_c\)</span>=0), their fitted value is 8.45. When the individual is a control (<span class="math inline">\(x_d\)</span>=0), their fiited value is 42.6.</p>
<p>Subtract the recorded att_end by fitted value for the epsilon value…
<span class="math display">\[\epsilon_i = y_i - \hat{y_i}\]</span>
…And you can now complete your equation.
<span class="math display">\[ y_i = \hat{b_1}x_r + \hat{b_2} x_d + \epsilon_i \]</span></p>
</div>
<div id="parameter-uncertainty-2" class="section level3">
<h3>
<span class="header-section-number">8.7.2</span> Parameter Uncertainty</h3>
<p>Here, we see that the average treatment effect is -1.546875; this is the average change in att_end caused by treatment (if this statistic looks unfamiliar, refer back to chapter 3 for a refresher on ATE). But how confident are we in this ATE? We can use <code>lm()</code> again to generate confidence intervals for our parameters and this value:</p>
<div class="sourceCode" id="cb792"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb792-1"><a href="two-parameters.html#cb792-1"></a><span class="co">#This is necessary so we can see the offset as caused by treatmentTreated, not treatmentControl.</span></span>
<span id="cb792-2"><a href="two-parameters.html#cb792-2"></a></span>
<span id="cb792-3"><a href="two-parameters.html#cb792-3"></a>trains<span class="op">$</span>treatment &lt;-<span class="kw">fct_relevel</span>(trains<span class="op">$</span>treatment, <span class="st">"Control"</span>, <span class="st">"Treated"</span>)</span>
<span id="cb792-4"><a href="two-parameters.html#cb792-4"></a></span>
<span id="cb792-5"><a href="two-parameters.html#cb792-5"></a>x &lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="dt">data =</span> trains, att_end <span class="op">~</span><span class="st"> </span>treatment <span class="op">-</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb792-6"><a href="two-parameters.html#cb792-6"></a><span class="st">  </span><span class="kw">tidy</span>(<span class="dt">conf.int =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb792-7"><a href="two-parameters.html#cb792-7"></a><span class="st">  </span><span class="kw">select</span>(term, estimate, conf.low, conf.high) <span class="op">%&gt;%</span></span>
<span id="cb792-8"><a href="two-parameters.html#cb792-8"></a><span class="st">  </span><span class="kw">as_tibble</span>()</span></code></pre></div>
<p>The confidence intervals show our confidence in the average treatment effect of the <code>trains</code> dataset being representative of the true average treatment effect on Boston commuters.</p>
</div>
<div id="unmodeled-variation-2" class="section level3">
<h3>
<span class="header-section-number">8.7.3</span> Unmodeled Variation</h3>
</div>
<div id="preceptor-table-1" class="section level3">
<h3>
<span class="header-section-number">8.7.4</span> Preceptor Table</h3>
<p>Now, we’ll create the Preceptor table – a RCM table in this case – of possible outcomes, as we did back in ch3:</p>
<div class="sourceCode" id="cb793"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb793-1"><a href="two-parameters.html#cb793-1"></a><span class="co">#Adding question marks where necessary</span></span>
<span id="cb793-2"><a href="two-parameters.html#cb793-2"></a></span>
<span id="cb793-3"><a href="two-parameters.html#cb793-3"></a>trains_RCM &lt;-<span class="st"> </span>trains <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb793-4"><a href="two-parameters.html#cb793-4"></a><span class="st">  </span><span class="kw">pivot_wider</span>(<span class="dt">names_from =</span> treatment, <span class="dt">values_from =</span> att_end) <span class="op">%&gt;%</span></span>
<span id="cb793-5"><a href="two-parameters.html#cb793-5"></a><span class="st">  </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">7</span>) <span class="op">%&gt;%</span></span>
<span id="cb793-6"><a href="two-parameters.html#cb793-6"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">subject =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">7</span>) <span class="op">%&gt;%</span></span>
<span id="cb793-7"><a href="two-parameters.html#cb793-7"></a><span class="st">  </span><span class="kw">replace_na</span>(<span class="kw">list</span>(<span class="dt">Treated =</span> <span class="st">"?"</span>, <span class="dt">Control =</span> <span class="st">"?"</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb793-8"><a href="two-parameters.html#cb793-8"></a><span class="st">  </span><span class="kw">select</span>(subject, Control, Treated)</span>
<span id="cb793-9"><a href="two-parameters.html#cb793-9"></a></span>
<span id="cb793-10"><a href="two-parameters.html#cb793-10"></a><span class="co">#Mathematical notation</span></span>
<span id="cb793-11"><a href="two-parameters.html#cb793-11"></a></span>
<span id="cb793-12"><a href="two-parameters.html#cb793-12"></a>trains_RCM <span class="op">%&gt;%</span></span>
<span id="cb793-13"><a href="two-parameters.html#cb793-13"></a><span class="st">  </span><span class="kw">gt</span>() <span class="op">%&gt;%</span></span>
<span id="cb793-14"><a href="two-parameters.html#cb793-14"></a><span class="st">  </span><span class="kw">cols_label</span>(<span class="dt">subject =</span> <span class="kw">md</span>(<span class="st">"$$</span><span class="ch">\\</span><span class="st">mathbf{Subject}$$"</span>),</span>
<span id="cb793-15"><a href="two-parameters.html#cb793-15"></a>                <span class="dt">Control =</span> <span class="kw">md</span>(<span class="st">"$$Y_c(u)$$"</span>),</span>
<span id="cb793-16"><a href="two-parameters.html#cb793-16"></a>                <span class="dt">Treated =</span> <span class="kw">md</span>(<span class="st">"$$Y_t(u)$$"</span>)) <span class="op">%&gt;%</span></span>
<span id="cb793-17"><a href="two-parameters.html#cb793-17"></a><span class="st">  </span><span class="kw">tab_style</span>(<span class="kw">cell_borders</span>(<span class="dt">sides =</span> <span class="st">"right"</span>),</span>
<span id="cb793-18"><a href="two-parameters.html#cb793-18"></a>            <span class="dt">location =</span> <span class="kw">cells_body</span>(<span class="dt">columns =</span> <span class="kw">vars</span>(subject))) <span class="op">%&gt;%</span></span>
<span id="cb793-19"><a href="two-parameters.html#cb793-19"></a><span class="st">  </span><span class="kw">cols_align</span>(<span class="dt">align =</span> <span class="st">"center"</span>, <span class="dt">columns =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb793-20"><a href="two-parameters.html#cb793-20"></a><span class="st">  </span><span class="kw">tab_header</span>(<span class="dt">title =</span> <span class="st">"Att_end of First Ten Respondents of Train Dataset"</span>)</span></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ypsouxzuce .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ypsouxzuce .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ypsouxzuce .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ypsouxzuce .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ypsouxzuce .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ypsouxzuce .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ypsouxzuce .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ypsouxzuce .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ypsouxzuce .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ypsouxzuce .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ypsouxzuce .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ypsouxzuce .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#ypsouxzuce .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ypsouxzuce .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ypsouxzuce .gt_from_md > :first-child {
  margin-top: 0;
}

#ypsouxzuce .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ypsouxzuce .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ypsouxzuce .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#ypsouxzuce .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ypsouxzuce .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#ypsouxzuce .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ypsouxzuce .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ypsouxzuce .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ypsouxzuce .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ypsouxzuce .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#ypsouxzuce .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ypsouxzuce .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#ypsouxzuce .gt_left {
  text-align: left;
}

#ypsouxzuce .gt_center {
  text-align: center;
}

#ypsouxzuce .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ypsouxzuce .gt_font_normal {
  font-weight: normal;
}

#ypsouxzuce .gt_font_bold {
  font-weight: bold;
}

#ypsouxzuce .gt_font_italic {
  font-style: italic;
}

#ypsouxzuce .gt_super {
  font-size: 65%;
}

#ypsouxzuce .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="ypsouxzuce" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
<thead class="gt_header">
<tr>
<th colspan="3" class="gt_heading gt_title gt_font_normal" style>Att_end of First Ten Respondents of Train Dataset</th>
    </tr>
<tr>
<th colspan="3" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
</thead>
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">$$\mathbf{Subject}$$</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">$$Y_c(u)$$</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">$$Y_t(u)$$</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">1</td>
      <td class="gt_row gt_center">?</td>
      <td class="gt_row gt_center">11</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">2</td>
      <td class="gt_row gt_center">?</td>
      <td class="gt_row gt_center">10</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">3</td>
      <td class="gt_row gt_center">?</td>
      <td class="gt_row gt_center">5</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">4</td>
      <td class="gt_row gt_center">?</td>
      <td class="gt_row gt_center">11</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">5</td>
      <td class="gt_row gt_center">5</td>
      <td class="gt_row gt_center">?</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">6</td>
      <td class="gt_row gt_center">?</td>
      <td class="gt_row gt_center">13</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">7</td>
      <td class="gt_row gt_center">13</td>
      <td class="gt_row gt_center">?</td>
    </tr>
</tbody>
</table></div>
<p>Recall that the Rubin Causal Model centers on filling in the unknowns, which are indicated by the “?”s in the table. There’s one way we could fill in the missing values — we could use our approximations we generated with our <code>lm()</code> model: that is, for each unknown Treated value, we use 10, and for each unknown Control value, we use 8.45. This is certainly a reasonable prediction.</p>
<p>There’s one way we could fill in the missing values — we could use our approximations we generated with our <code>lm()</code> model: that is, for each unknown Treated value, we use 10, and for each unknown Control value, we use 8.45. We also attach the uncertainty attached for these predictions.</p>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#zcscnhzelg .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zcscnhzelg .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zcscnhzelg .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zcscnhzelg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zcscnhzelg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zcscnhzelg .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zcscnhzelg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zcscnhzelg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zcscnhzelg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zcscnhzelg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zcscnhzelg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zcscnhzelg .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#zcscnhzelg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zcscnhzelg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zcscnhzelg .gt_from_md > :first-child {
  margin-top: 0;
}

#zcscnhzelg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zcscnhzelg .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zcscnhzelg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#zcscnhzelg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zcscnhzelg .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#zcscnhzelg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zcscnhzelg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zcscnhzelg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zcscnhzelg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zcscnhzelg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#zcscnhzelg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zcscnhzelg .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#zcscnhzelg .gt_left {
  text-align: left;
}

#zcscnhzelg .gt_center {
  text-align: center;
}

#zcscnhzelg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zcscnhzelg .gt_font_normal {
  font-weight: normal;
}

#zcscnhzelg .gt_font_bold {
  font-weight: bold;
}

#zcscnhzelg .gt_font_italic {
  font-style: italic;
}

#zcscnhzelg .gt_super {
  font-size: 65%;
}

#zcscnhzelg .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="zcscnhzelg" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
<thead class="gt_header">
<tr>
<th colspan="3" class="gt_heading gt_title gt_font_normal" style>Att_end of First Ten Respondents of Train Dataset</th>
    </tr>
<tr>
<th colspan="3" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
</thead>
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">$$\mathbf{Subject}$$</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">$$Y_c(u)$$</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">$$Y_t(u)$$</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">1</td>
      <td class="gt_row gt_center">8.45 (7.76-9.14)</td>
      <td class="gt_row gt_center">11</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">2</td>
      <td class="gt_row gt_center">8.45 (7.76-9.14)</td>
      <td class="gt_row gt_center">10</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">3</td>
      <td class="gt_row gt_center">8.45 (7.76-9.14)</td>
      <td class="gt_row gt_center">5</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">4</td>
      <td class="gt_row gt_center">8.45 (7.76-9.14)</td>
      <td class="gt_row gt_center">11</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">5</td>
      <td class="gt_row gt_center">5</td>
      <td class="gt_row gt_center">10 (9.2-10.8)</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">6</td>
      <td class="gt_row gt_center">8.45 (7.76-9.14)</td>
      <td class="gt_row gt_center">13</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">7</td>
      <td class="gt_row gt_center">13</td>
      <td class="gt_row gt_center">10 (9.2-10.8)</td>
    </tr>
</tbody>
</table></div>
<p>Recall our earlier conversation regarding the difference between confidence intervals. An argument could be made that, taking individual variation into account, prediction intervals would be more accurate indicators of uncertainty than confidence intervals. We can construct the above table using prediction intervals instead, generated using the <code>predict()</code> function:</p>
<div class="sourceCode" id="cb794"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb794-1"><a href="two-parameters.html#cb794-1"></a><span class="kw">lm</span>(<span class="dt">data =</span> trains, att_end <span class="op">~</span><span class="st"> </span>treatment) <span class="op">%&gt;%</span></span>
<span id="cb794-2"><a href="two-parameters.html#cb794-2"></a><span class="kw">predict</span>(<span class="kw">tibble</span>(<span class="dt">treatment =</span> <span class="kw">c</span>(<span class="st">"Treated"</span>, <span class="st">"Control"</span>)), </span>
<span id="cb794-3"><a href="two-parameters.html#cb794-3"></a>        <span class="dt">interval =</span> <span class="st">"prediction"</span>)</span></code></pre></div>
<pre><code>##         fit      lwr      upr
## 1 10.000000 4.443202 15.55680
## 2  8.453125 2.907191 13.99906</code></pre>
<p>And we can reconstruct the table by filling in the unknowns with the predictions (note that these are unchanged) and their associated levels of uncertainty (which HAVE changed to accomodate for individual variation within the data):</p>
<!-- EM: Note that some of the uncertainty boundaries exceed 3 or 15, which were the minimum and maximum values for att_end, respectively. This should be made apparent in a margin note for the tables that have uncertainty bounds below 3 or above 15. -->
<div class="sourceCode" id="cb796"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb796-1"><a href="two-parameters.html#cb796-1"></a>trains.lm &lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="dt">data =</span> trains, att_end <span class="op">~</span><span class="st"> </span>treatment)</span>
<span id="cb796-2"><a href="two-parameters.html#cb796-2"></a>newdata &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">treatment =</span> <span class="kw">c</span>(<span class="st">"Treated"</span>, <span class="st">"Control"</span>))</span>
<span id="cb796-3"><a href="two-parameters.html#cb796-3"></a></span>
<span id="cb796-4"><a href="two-parameters.html#cb796-4"></a><span class="kw">predict</span>(trains.lm, newdata, <span class="dt">interval =</span> <span class="st">"prediction"</span>)</span></code></pre></div>
<pre><code>##         fit      lwr      upr
## 1 10.000000 4.443202 15.55680
## 2  8.453125 2.907191 13.99906</code></pre>
<p>And we can reconstruct the table by filling in the unknowns with the predictions (note that these are unchanged) and their associated levels of uncertainty (which HAVE changed to accomodate for individual variation within the data):</p>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#gsvkbcpodj .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#gsvkbcpodj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gsvkbcpodj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#gsvkbcpodj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#gsvkbcpodj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gsvkbcpodj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gsvkbcpodj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#gsvkbcpodj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#gsvkbcpodj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#gsvkbcpodj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#gsvkbcpodj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#gsvkbcpodj .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#gsvkbcpodj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#gsvkbcpodj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#gsvkbcpodj .gt_from_md > :first-child {
  margin-top: 0;
}

#gsvkbcpodj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#gsvkbcpodj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#gsvkbcpodj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#gsvkbcpodj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gsvkbcpodj .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#gsvkbcpodj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gsvkbcpodj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#gsvkbcpodj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gsvkbcpodj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gsvkbcpodj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#gsvkbcpodj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gsvkbcpodj .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#gsvkbcpodj .gt_left {
  text-align: left;
}

#gsvkbcpodj .gt_center {
  text-align: center;
}

#gsvkbcpodj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#gsvkbcpodj .gt_font_normal {
  font-weight: normal;
}

#gsvkbcpodj .gt_font_bold {
  font-weight: bold;
}

#gsvkbcpodj .gt_font_italic {
  font-style: italic;
}

#gsvkbcpodj .gt_super {
  font-size: 65%;
}

#gsvkbcpodj .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="gsvkbcpodj" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
<thead class="gt_header">
<tr>
<th colspan="3" class="gt_heading gt_title gt_font_normal" style>Att_end of First Ten Respondents of Train Dataset</th>
    </tr>
<tr>
<th colspan="3" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
</thead>
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">$$\mathbf{Subject}$$<sup class="gt_footnote_marks">1</sup>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">$$Y_c(u)$$<sup class="gt_footnote_marks">1</sup>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">$$Y_t(u)$$<sup class="gt_footnote_marks">1</sup>
</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">1</td>
      <td class="gt_row gt_center">8.45 (2.9-14.0)</td>
      <td class="gt_row gt_center">11</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">2</td>
      <td class="gt_row gt_center">8.45 (2.9-14.0)</td>
      <td class="gt_row gt_center">10</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">3</td>
      <td class="gt_row gt_center">8.45 (2.9-14.0)</td>
      <td class="gt_row gt_center">5</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">4</td>
      <td class="gt_row gt_center">8.45 (2.9-14.0)</td>
      <td class="gt_row gt_center">11</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">5</td>
      <td class="gt_row gt_center">5</td>
      <td class="gt_row gt_center">10 (4.4-15.6)</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">6</td>
      <td class="gt_row gt_center">8.45 (2.9-14.0)</td>
      <td class="gt_row gt_center">13</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">7</td>
      <td class="gt_row gt_center">13</td>
      <td class="gt_row gt_center">10 (4.4-15.6)</td>
    </tr>
</tbody>
<tfoot><tr class="gt_footnotes">
<td colspan="3">
        <p class="gt_footnote">
          <sup class="gt_footnote_marks"><em>1</em>
          </sup>
           
          Note: 
          <br></p>
      </td>
    </tr></tfoot>
</table></div>
<p>Regardless of whether we use confidence or prediction intervals for these unknowns, however, the table looks a bit funky: take a look at subject 3. According to this model, subject 3’s attitude under control would be HIGHER than his/her attitude under treatment, which corresponds to a negative treatment effect. This would mean that he/she would become more LIBERAL after undergoing treatment, which flies in the face of the ATE we calculated earlier. Another example of this can be seen with subject 7, whose predicted <code>att_end</code> under treatment is lower than his/her <code>att_end</code> under control (also signifying a shift towards liberal attitudes regarding immigration).</p>
<p>Clearly, using the same control and treatment values to fill in the unknowns doesn’t capture the entire picture. While using <code>lm()</code> to fill in the <code>att_end</code> unknowns towards the center of the distribution, it makes less sense for values towards the outskirts of the dataset. So, how can we predict outcomes in a way that equally addresses data towards the center of the distribution, and data that isn’t?</p>
<p>One such way is by attaching the ATE in the appropriate direction to fill in the unknowns. Here, we use lm() to calculate confidence intervals for the ATE, which we previously calculated to be -1.546875, and add and subtract those from the known values to fill in the unknown values:</p>
<pre><code>## Warning: `...` is not empty.
## 
## We detected these problematic arguments:
## * `needs_dots`
## 
## These dots only exist to allow future extensions and should be empty.
## Did you misspecify an argument?</code></pre>
<pre><code>## # A tibble: 2 x 4
##   term             estimate conf.low conf.high
##   &lt;chr&gt;               &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)          8.45    7.77       9.14
## 2 treatmentTreated     1.55    0.514      2.58</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#oklndepdlz .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#oklndepdlz .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#oklndepdlz .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#oklndepdlz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#oklndepdlz .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oklndepdlz .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#oklndepdlz .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#oklndepdlz .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#oklndepdlz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#oklndepdlz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#oklndepdlz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#oklndepdlz .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#oklndepdlz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#oklndepdlz .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#oklndepdlz .gt_from_md > :first-child {
  margin-top: 0;
}

#oklndepdlz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#oklndepdlz .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#oklndepdlz .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#oklndepdlz .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#oklndepdlz .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#oklndepdlz .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#oklndepdlz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#oklndepdlz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oklndepdlz .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#oklndepdlz .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#oklndepdlz .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#oklndepdlz .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#oklndepdlz .gt_left {
  text-align: left;
}

#oklndepdlz .gt_center {
  text-align: center;
}

#oklndepdlz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#oklndepdlz .gt_font_normal {
  font-weight: normal;
}

#oklndepdlz .gt_font_bold {
  font-weight: bold;
}

#oklndepdlz .gt_font_italic {
  font-style: italic;
}

#oklndepdlz .gt_super {
  font-size: 65%;
}

#oklndepdlz .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="oklndepdlz" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
<thead class="gt_header">
<tr>
<th colspan="3" class="gt_heading gt_title gt_font_normal" style>Att_end of First Ten Respondents of Train Dataset</th>
    </tr>
<tr>
<th colspan="3" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
</thead>
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">$$\mathbf{Subject}$$</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">$$Y_c(u)$$</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">$$Y_t(u)$$</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">1</td>
      <td class="gt_row gt_center">9.45 (8.42, 10.48)</td>
      <td class="gt_row gt_center">11</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">2</td>
      <td class="gt_row gt_center">8.45 (7.42, 9.48)</td>
      <td class="gt_row gt_center">10</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">3</td>
      <td class="gt_row gt_center">3.45 (2.42, 4.48)</td>
      <td class="gt_row gt_center">5</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">4</td>
      <td class="gt_row gt_center">9.45 (8.42, 10.48)</td>
      <td class="gt_row gt_center">11</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">5</td>
      <td class="gt_row gt_center">5</td>
      <td class="gt_row gt_center">6.55 (5.52, 7.58)</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">6</td>
      <td class="gt_row gt_center">11.45 (10.42, 12.48)</td>
      <td class="gt_row gt_center">13</td>
    </tr>
<tr>
<td class="gt_row gt_center" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;">7</td>
      <td class="gt_row gt_center">13</td>
      <td class="gt_row gt_center">14.55 (13.52, 15.58)</td>
    </tr>
</tbody>
</table></div>
<!-- EM: Unsure how to tie in probability -->
</div>
<div id="uncertainties" class="section level3">
<h3>
<span class="header-section-number">8.7.5</span> Uncertainties</h3>
<p>There are various sources of uncertainties and problems that have addressed in previous chapters and again in this chapter. It’s important that you always have these in the back of your mind when working with data:</p>
<ol style="list-style-type: decimal">
<li><p><em>Validity</em>. At the surface level, parameter names might not invoke too much thought — but once you really sit down and think about the story the numbers are trying to tell, it’s not always the case that the numbers deserve to tell that story. In our earlier discussion regarding <code>income</code> and <code>att_end</code>, the conclusions we draw from these data might be misleading just because the way they were collected or computed inevitably change these conclusions. Even when there’s nothing WRONG with a setup, we need to keep in mind that the smallest differences</p></li>
<li><p>When we dive deeper into the data, we run into the issue of <em>parameter uncertainty</em>, which is the uncertainty associated with our analysis of summary parameters, such as mean, median, and range. In our above analysis with the <code>trains</code> dataset, we account for parameter uncertainty using confidence intervals.</p></li>
<li><p>As great as confidence intervals are, they don’t capture the uncertainty of using summary statistics to predict parameter values of random individuals. We are more sure, for example, about the range of possible incomes for the mean income of American democrats than we are about the range of possible incomes for a single American democrat, whose income could stray far from the mean democrat income. This <em>unmodeled variation</em>, or variation between data points that is not fully captured by bootstrapping, deserves much consideration when dealing with data.</p></li>
<li><p><em>Unknown unknowns</em> are an especially unavoidable source of uncertainty. The world is changing, and people 50 years from now might act differently and have vastly different lifestyles and characteristics; in the case of the <code>trains</code> dataset, it wouldn’t be unreasonable to expect completely different combinations of income and party affiliation. That would render our mean income, median ratio, and prediction intervals for both those measures useless.</p></li>
</ol>
</div>
</div>
<div id="two-parameter-models-which-require-the-bootstrap" class="section level2">
<h2>
<span class="header-section-number">8.8</span> Two parameter models which require the bootstrap</h2>
</div>
<div id="prediction" class="section level2">
<h2>
<span class="header-section-number">8.9</span> Prediction</h2>
<!-- How do we connect this to the probability chapter? I am still thinking about this. Basic idea is that, what would we estimate would happen with a new experiment, which might include one or 10 or 1,000 new people? Just like coin-tossing from chapter 5. We need to make this connection very explicit. Read through chapter 5 and discuss.  Posterior distribution, given the data we have, of an unknown parameter.  -->
<!-- Should we make an explicit connection to the probability chapter by adding another dimension to that work? We have two coins, each with their own p. Build the joint distribution for them, with one on the x-axis and one on the y-axis. You need a near graphic for each value of the H number of heads total that you get from flipping them each N times. Then, you run the experiment, and you select the correct graphic. That shows you the best guess joint distribution. This is confusing!  -->
<!-- Do we want to play the prediction game? If so, how? -->
<p>So far, we have not clearly discussed what we are using these models for. Why bother to create these models? What is their <em>purpose</em>? In many cases, the most important use of a model is for prediction. We use them to make predictions about data which we have not yet seen.</p>

</div>
</div></body></html>

<p style="text-align: center;">
<a href="one-parameter.html"><button class="btn btn-default">Previous</button></a>
<a href="n-parameters.html"><button class="btn btn-default">Next</button></a>
</p>
<p class="build-date">Page built: 
2020-07-16
</p>
</div>
</div>



</body>
</html>
