<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Animation | Preceptor’s Primer for Bayesian Data Science" />
<meta property="og:type" content="book" />



<meta name="github-repo" content="davidkane9/PPBDS" />

<meta name="author" content="David Kane" />

<meta name="date" content="2020-07-16" />

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>

<meta name="description" content="Animation | Preceptor’s Primer for Bayesian Data Science">

<title>Animation | Preceptor’s Primer for Bayesian Data Science</title>

<link href="libs/tufte-css-2015.12.29/tufte.css" rel="stylesheet" />
<link href="libs/tufte-css-2015.12.29/envisioned.css" rel="stylesheet" />
<link href="libs/msmb-css-0/msmb.css" rel="stylesheet" />
<script>
function toggle_visibility(id1, id2) {
var e = document.getElementById(id1);
var f = document.getElementById(id2);

e.style.display = ((e.style.display!='none') ? 'none' : 'block');

if(f.classList.contains('fa-plus-square')) {
    f.classList.add('fa-minus-square')
    f.classList.remove('fa-plus-square')
} else {
    f.classList.add('fa-plus-square')
    f.classList.remove('fa-minus-square')
}

}
</script>
<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }

code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>



<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul class="navbar">
<li class="msmb"><p class="title">Preceptor's Primer for Bayesian Data Science<p><p class="author">David Kane</p>
<li class="dropdown" style="float:right">
<a href="javascript:void(0)" class="dropbtn">&#x25BE; Chapters</a>
<div class="dropdown-content">
<a href="index.html">Cover</a>
<a href="preamble.html">Preamble</a>
<a href="visualization.html"><span class="toc-section-number">1</span> Visualization</a>
<a href="tidyverse.html"><span class="toc-section-number">2</span> Tidyverse</a>
<a href="rubin-causal-model.html"><span class="toc-section-number">3</span> Rubin Causal Model</a>
<a href="functions.html"><span class="toc-section-number">4</span> Functions</a>
<a href="probability.html"><span class="toc-section-number">5</span> Probability</a>
<a href="sampling.html"><span class="toc-section-number">6</span> Sampling</a>
<a href="one-parameter.html"><span class="toc-section-number">7</span> One Parameter</a>
<a href="two-parameters.html"><span class="toc-section-number">8</span> Two Parameters</a>
<a href="n-parameters.html"><span class="toc-section-number">9</span> N Parameters</a>
<a href="pitfalls.html"><span class="toc-section-number">10</span> Pitfalls</a>
<a href="continuous-response.html"><span class="toc-section-number">11</span> Continuous Response</a>
<a href="discrete-response.html"><span class="toc-section-number">12</span> Discrete Response</a>
<a href="appendices.html">Appendices</a>
<a href="productivity.html">Productivity</a>
<a href="shiny.html">Shiny</a>
<a href="maps.html">Maps</a>
<a id="active-page" href="animation.html">Animation</a><ul class="toc-sections">
<li class="toc"><a href="#prerequisites"> Prerequisites</a></li>
<li class="toc"><a href="#demo-dataset"> Demo dataset</a></li>
<li class="toc"><a href="#static-plot"> Static plot</a></li>
<li class="toc"><a href="#transition-through-distinct-states-in-time"> Transition through distinct states in time</a></li>
<li class="toc"><a href="#reveal-data-along-a-given-dimension"> Reveal data along a given dimension</a></li>
<li class="toc"><a href="#transition-between-several-distinct-stages-of-the-data"> Transition between several distinct stages of the data</a></li>
<li class="toc"><a href="#read-more"> Read more</a></li>
<li class="toc"><a href="#how-to-save-your-animation"> How to save your animation</a></li>
</ul>
<a href="references-1.html">References</a>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div id="animation" class="section level1 unnumbered">
<h1>Animation</h1>
<!-- AR: Every code chunk that creates an animation has eval = FALSE to save on
build time; the book then displays a saved gif (use anim_save()) that is the result of that code chunk. -->
<!-- This section is written by Alboukadel Kassambara and was originally published [here](https://www.datanovia.com/en/blog/gganimate-how-to-create-plots-with-beautiful-animation-in-r/). -->
<!-- Save anim_save(path) to save the gifs in the right location when creating them. By default, they use the last plot. So, just run the code, then use that. -->
<p><strong>gganimate</strong> is a package for creating animated ggplots. It provides a range of new functionality that can be added to the plot object in order to customize how it should change with time.</p>
<p>Key features of gganimate:</p>
<ul>
<li>
<strong>transitions</strong>: you want your data to change</li>
<li>
<strong>views</strong>: you want your viewpoint to change</li>
<li>
<strong>shadows</strong>: you want the animation to have memory</li>
</ul>
<div id="prerequisites" class="section level2">
<h2>
<span class="header-section-number">12.19</span> Prerequisites</h2>
<p>Load required packages and set the default ggplot2 theme to <code>theme_bw()</code>:</p>
<div class="sourceCode" id="cb1156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1156-1"><a href="animation.html#cb1156-1"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb1156-2"><a href="animation.html#cb1156-2"></a><span class="kw">library</span>(gganimate)</span>
<span id="cb1156-3"><a href="animation.html#cb1156-3"></a><span class="kw">theme_set</span>(<span class="kw">theme_bw</span>())</span></code></pre></div>
</div>
<div id="demo-dataset" class="section level2">
<h2>
<span class="header-section-number">12.20</span> Demo dataset</h2>
<div class="sourceCode" id="cb1157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1157-1"><a href="animation.html#cb1157-1"></a><span class="kw">library</span>(gapminder)</span>
<span id="cb1157-2"><a href="animation.html#cb1157-2"></a><span class="kw">head</span>(gapminder)</span></code></pre></div>
<pre><code>## Warning: `...` is not empty.
## 
## We detected these problematic arguments:
## * `needs_dots`
## 
## These dots only exist to allow future extensions and should be empty.
## Did you misspecify an argument?</code></pre>
<pre><code>## # A tibble: 6 x 6
##   country     continent  year lifeExp      pop gdpPercap
##   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
## 1 Afghanistan Asia       1952    28.8  8425333      779.
## 2 Afghanistan Asia       1957    30.3  9240934      821.
## 3 Afghanistan Asia       1962    32.0 10267083      853.
## 4 Afghanistan Asia       1967    34.0 11537966      836.
## 5 Afghanistan Asia       1972    36.1 13079460      740.
## 6 Afghanistan Asia       1977    38.4 14880372      786.</code></pre>
</div>
<div id="static-plot" class="section level2">
<h2>
<span class="header-section-number">12.21</span> Static plot</h2>
<!-- This code chunk caused lots of trouble. It originally came without the -->
<!-- eval=FALSE. And it works fine on its own. But, it fails if it is placed into -->
<!-- the entire book. I am not sure why! Putting in eval=FALSE makes it OK. But -->
<!-- then I needed to save/show a png of the saved image. It all works. But it is -->
<!-- annoying! And I worry that the error is a sympton of a larger problem. -->
<!--  ggsave("other/images/animation-1.png", p) -->
<div class="sourceCode" id="cb1160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1160-1"><a href="animation.html#cb1160-1"></a>p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(</span>
<span id="cb1160-2"><a href="animation.html#cb1160-2"></a>  gapminder,</span>
<span id="cb1160-3"><a href="animation.html#cb1160-3"></a>  <span class="kw">aes</span>(<span class="dt">x =</span> gdpPercap, <span class="dt">y=</span>lifeExp, <span class="dt">size =</span> pop, <span class="dt">colour =</span> country)</span>
<span id="cb1160-4"><a href="animation.html#cb1160-4"></a>  ) <span class="op">+</span></span>
<span id="cb1160-5"><a href="animation.html#cb1160-5"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">show.legend =</span> <span class="ot">FALSE</span>, <span class="dt">alpha =</span> <span class="fl">0.7</span>) <span class="op">+</span></span>
<span id="cb1160-6"><a href="animation.html#cb1160-6"></a><span class="st">  </span><span class="kw">scale_color_viridis_d</span>() <span class="op">+</span></span>
<span id="cb1160-7"><a href="animation.html#cb1160-7"></a><span class="st">  </span><span class="kw">scale_size</span>(<span class="dt">range =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">12</span>)) <span class="op">+</span></span>
<span id="cb1160-8"><a href="animation.html#cb1160-8"></a><span class="st">  </span><span class="kw">scale_x_log10</span>() <span class="op">+</span></span>
<span id="cb1160-9"><a href="animation.html#cb1160-9"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"GDP per capita"</span>, <span class="dt">y =</span> <span class="st">"Life expectancy"</span>)</span>
<span id="cb1160-10"><a href="animation.html#cb1160-10"></a>p</span></code></pre></div>
<p><img src="other/images/animation-1.png"></p>
</div>
<div id="transition-through-distinct-states-in-time" class="section level2">
<h2>
<span class="header-section-number">12.22</span> Transition through distinct states in time</h2>
<div id="basics" class="section level3">
<h3>
<span class="header-section-number">12.22.1</span> Basics</h3>
<p>Key R function: <code>transition_time()</code>. The transition length between the states will be set to correspond to the actual time difference between them.</p>
<p>Label variables: <code>frame_time</code>. Gives the time that the current frame corresponds to.</p>
<div class="sourceCode" id="cb1161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1161-1"><a href="animation.html#cb1161-1"></a>p <span class="op">+</span><span class="st"> </span><span class="kw">transition_time</span>(year) <span class="op">+</span></span>
<span id="cb1161-2"><a href="animation.html#cb1161-2"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Year: {frame_time}"</span>)</span></code></pre></div>
<p><img src="other/images/basics.gif"></p>
<p>Create facets by continent:</p>
<div class="sourceCode" id="cb1162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1162-1"><a href="animation.html#cb1162-1"></a>p <span class="op">+</span><span class="st"> </span><span class="kw">facet_wrap</span>(<span class="op">~</span>continent) <span class="op">+</span></span>
<span id="cb1162-2"><a href="animation.html#cb1162-2"></a><span class="st">  </span><span class="kw">transition_time</span>(year) <span class="op">+</span></span>
<span id="cb1162-3"><a href="animation.html#cb1162-3"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Year: {frame_time}"</span>)</span></code></pre></div>
<p><img src="other/images/facet_continent.gif"></p>
</div>
<div id="let-the-view-follow-the-data-in-each-frame" class="section level3">
<h3>
<span class="header-section-number">12.22.2</span> Let the view follow the data in each frame</h3>
<div class="sourceCode" id="cb1163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1163-1"><a href="animation.html#cb1163-1"></a>p <span class="op">+</span><span class="st"> </span><span class="kw">transition_time</span>(year) <span class="op">+</span></span>
<span id="cb1163-2"><a href="animation.html#cb1163-2"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Year: {frame_time}"</span>) <span class="op">+</span></span>
<span id="cb1163-3"><a href="animation.html#cb1163-3"></a><span class="st">  </span><span class="kw">view_follow</span>(<span class="dt">fixed_y =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="other/images/view_follow_data.gif"></p>
</div>
<div id="show-preceding-frames-with-gradual-falloff" class="section level3">
<h3>
<span class="header-section-number">12.22.3</span> Show preceding frames with gradual falloff</h3>
<p>This shadow is meant to draw a small wake after data by showing the latest frames up to the current. You can choose to gradually diminish the size and/or opacity of the shadow. The length of the wake is not given in absolute frames as that would make the animation susceptible to changes in the framerate. Instead it is given as a proportion of the total length of the animation.</p>
<div class="sourceCode" id="cb1164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1164-1"><a href="animation.html#cb1164-1"></a>p <span class="op">+</span><span class="st"> </span><span class="kw">transition_time</span>(year) <span class="op">+</span></span>
<span id="cb1164-2"><a href="animation.html#cb1164-2"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Year: {frame_time}"</span>) <span class="op">+</span></span>
<span id="cb1164-3"><a href="animation.html#cb1164-3"></a><span class="st">  </span><span class="kw">shadow_wake</span>(<span class="dt">wake_length =</span> <span class="fl">0.1</span>, <span class="dt">alpha =</span> <span class="ot">FALSE</span>)</span></code></pre></div>
<p><img src="other/images/gradual_falloff.gif"></p>
</div>
<div id="show-the-original-data-as-background-marks" class="section level3">
<h3>
<span class="header-section-number">12.22.4</span> Show the original data as background marks</h3>
<p>This shadow lets you show the raw data behind the current frame. Both past and/or future raw data can be shown and styled as you want.</p>
<div class="sourceCode" id="cb1165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1165-1"><a href="animation.html#cb1165-1"></a>p <span class="op">+</span><span class="st"> </span><span class="kw">transition_time</span>(year) <span class="op">+</span></span>
<span id="cb1165-2"><a href="animation.html#cb1165-2"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Year: {frame_time}"</span>) <span class="op">+</span></span>
<span id="cb1165-3"><a href="animation.html#cb1165-3"></a><span class="st">  </span><span class="kw">shadow_mark</span>(<span class="dt">alpha =</span> <span class="fl">0.3</span>, <span class="dt">size =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="other/images/background_marks.gif"></p>
</div>
</div>
<div id="reveal-data-along-a-given-dimension" class="section level2">
<h2>
<span class="header-section-number">12.23</span> Reveal data along a given dimension</h2>
<p>This transition allows you to let data gradually appear, based on a given time dimension.</p>
<div id="static-plot-1" class="section level3">
<h3>
<span class="header-section-number">12.23.1</span> Static plot</h3>
<div class="sourceCode" id="cb1166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1166-1"><a href="animation.html#cb1166-1"></a>p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(</span>
<span id="cb1166-2"><a href="animation.html#cb1166-2"></a>  airquality,</span>
<span id="cb1166-3"><a href="animation.html#cb1166-3"></a>  <span class="kw">aes</span>(Day, Temp, <span class="dt">group =</span> Month, <span class="dt">color =</span> <span class="kw">factor</span>(Month))</span>
<span id="cb1166-4"><a href="animation.html#cb1166-4"></a>  ) <span class="op">+</span></span>
<span id="cb1166-5"><a href="animation.html#cb1166-5"></a><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb1166-6"><a href="animation.html#cb1166-6"></a><span class="st">  </span><span class="kw">scale_color_viridis_d</span>() <span class="op">+</span></span>
<span id="cb1166-7"><a href="animation.html#cb1166-7"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"Day of Month"</span>, <span class="dt">y =</span> <span class="st">"Temperature"</span>) <span class="op">+</span></span>
<span id="cb1166-8"><a href="animation.html#cb1166-8"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb1166-9"><a href="animation.html#cb1166-9"></a>p</span></code></pre></div>
<p><img src="book_temp_files/figure-html/unnamed-chunk-780-1.png" width="672"></p>
</div>
<div id="let-data-gradually-appear" class="section level3">
<h3>
<span class="header-section-number">12.23.2</span> Let data gradually appear</h3>
<ul>
<li>Reveal by day (x-axis)</li>
</ul>
<div class="sourceCode" id="cb1167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1167-1"><a href="animation.html#cb1167-1"></a>p <span class="op">+</span><span class="st"> </span><span class="kw">transition_reveal</span>(Day)</span></code></pre></div>
<p><img src="other/images/reveal_by_day.gif"></p>
<ul>
<li>Show points:</li>
</ul>
<div class="sourceCode" id="cb1168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1168-1"><a href="animation.html#cb1168-1"></a>p <span class="op">+</span><span class="st"> </span></span>
<span id="cb1168-2"><a href="animation.html#cb1168-2"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb1168-3"><a href="animation.html#cb1168-3"></a><span class="st">  </span><span class="kw">transition_reveal</span>(Day)</span></code></pre></div>
<p><img src="other/images/show_points.gif"></p>
<ul>
<li>Points can be kept by giving them a unique group:</li>
</ul>
<div class="sourceCode" id="cb1169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1169-1"><a href="animation.html#cb1169-1"></a>p <span class="op">+</span><span class="st"> </span></span>
<span id="cb1169-2"><a href="animation.html#cb1169-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">group =</span> <span class="kw">seq_along</span>(Day))) <span class="op">+</span></span>
<span id="cb1169-3"><a href="animation.html#cb1169-3"></a><span class="st">  </span><span class="kw">transition_reveal</span>(Day)</span></code></pre></div>
<p><img src="other/images/unique_group.gif"></p>
</div>
</div>
<div id="transition-between-several-distinct-stages-of-the-data" class="section level2">
<h2>
<span class="header-section-number">12.24</span> Transition between several distinct stages of the data</h2>
<p>Data preparation:</p>
<div class="sourceCode" id="cb1170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1170-1"><a href="animation.html#cb1170-1"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb1170-2"><a href="animation.html#cb1170-2"></a>mean.temp &lt;-<span class="st"> </span>airquality <span class="op">%&gt;%</span></span>
<span id="cb1170-3"><a href="animation.html#cb1170-3"></a><span class="st">  </span><span class="kw">group_by</span>(Month) <span class="op">%&gt;%</span></span>
<span id="cb1170-4"><a href="animation.html#cb1170-4"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">Temp =</span> <span class="kw">mean</span>(Temp))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb1172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1172-1"><a href="animation.html#cb1172-1"></a>mean.temp</span></code></pre></div>
<pre><code>## Warning: `...` is not empty.
## 
## We detected these problematic arguments:
## * `needs_dots`
## 
## These dots only exist to allow future extensions and should be empty.
## Did you misspecify an argument?</code></pre>
<pre><code>## # A tibble: 5 x 2
##   Month  Temp
##   &lt;int&gt; &lt;dbl&gt;
## 1     5  65.5
## 2     6  79.1
## 3     7  83.9
## 4     8  84.0
## 5     9  76.9</code></pre>
<p>Create a bar plot of mean temperature:</p>
<div class="sourceCode" id="cb1175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1175-1"><a href="animation.html#cb1175-1"></a>p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(mean.temp, <span class="kw">aes</span>(Month, Temp, <span class="dt">fill =</span> Temp)) <span class="op">+</span></span>
<span id="cb1175-2"><a href="animation.html#cb1175-2"></a><span class="st">  </span><span class="kw">geom_col</span>() <span class="op">+</span></span>
<span id="cb1175-3"><a href="animation.html#cb1175-3"></a><span class="st">  </span><span class="kw">scale_fill_distiller</span>(<span class="dt">palette =</span> <span class="st">"Reds"</span>, <span class="dt">direction =</span> <span class="dv">1</span>) <span class="op">+</span></span>
<span id="cb1175-4"><a href="animation.html#cb1175-4"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb1175-5"><a href="animation.html#cb1175-5"></a><span class="st">  </span><span class="kw">theme</span>(</span>
<span id="cb1175-6"><a href="animation.html#cb1175-6"></a>    <span class="dt">panel.grid =</span> <span class="kw">element_blank</span>(),</span>
<span id="cb1175-7"><a href="animation.html#cb1175-7"></a>    <span class="dt">panel.grid.major.y =</span> <span class="kw">element_line</span>(<span class="dt">color =</span> <span class="st">"white"</span>),</span>
<span id="cb1175-8"><a href="animation.html#cb1175-8"></a>    <span class="dt">panel.ontop =</span> <span class="ot">TRUE</span></span>
<span id="cb1175-9"><a href="animation.html#cb1175-9"></a>  )</span>
<span id="cb1175-10"><a href="animation.html#cb1175-10"></a>p</span></code></pre></div>
<p><img src="book_temp_files/figure-html/unnamed-chunk-785-1.png" width="672"></p>
<ul>
<li>transition_states():</li>
</ul>
<div class="sourceCode" id="cb1176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1176-1"><a href="animation.html#cb1176-1"></a>p <span class="op">+</span><span class="st"> </span><span class="kw">transition_states</span>(Month, <span class="dt">wrap =</span> <span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb1176-2"><a href="animation.html#cb1176-2"></a><span class="st">  </span><span class="kw">shadow_mark</span>()</span></code></pre></div>
<p><img src="other/images/transition_states.gif"></p>
<ul>
<li>enter_grow() + enter_fade()</li>
</ul>
<div class="sourceCode" id="cb1177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1177-1"><a href="animation.html#cb1177-1"></a>p <span class="op">+</span><span class="st"> </span><span class="kw">transition_states</span>(Month, <span class="dt">wrap =</span> <span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb1177-2"><a href="animation.html#cb1177-2"></a><span class="st">  </span><span class="kw">shadow_mark</span>() <span class="op">+</span></span>
<span id="cb1177-3"><a href="animation.html#cb1177-3"></a><span class="st">  </span><span class="kw">enter_grow</span>() <span class="op">+</span></span>
<span id="cb1177-4"><a href="animation.html#cb1177-4"></a><span class="st">  </span><span class="kw">enter_fade</span>()</span></code></pre></div>
<p><img src="other/images/enter_grow.gif"></p>
<!-- ### Save animation -->
<!-- If you need to save the animation for later use you can use the ``anim_save()`` function. -->
<!-- It works much like ``ggsave()`` from ggplot2 and automatically grabs the last rendered animation if you do not specify one directly. -->
<!-- Example of usage: -->
<!-- AR: the blog post has no example so I wrote a different section below called "How to save your animation" -->
</div>
<div id="read-more" class="section level2">
<h2>
<span class="header-section-number">12.25</span> Read more</h2>
<ul>
<li><a href="https://gganimate.com/index.html">gganimate official documentation website</a></li>
</ul>
</div>
<div id="how-to-save-your-animation" class="section level2">
<h2>
<span class="header-section-number">12.26</span> How to save your animation</h2>
<p>The code to create animations can take a long time to run. So after you have created an animation, you’ll want to save it somewhere so you can display it without having to run the code.</p>
<!-- AR: if ggsave() is not discussed before now, it may be helpful to add. -->
<p>The key function to use is <code>anim_save()</code>, which is very similar to saving static plots using <code>ggsave()</code>. It will save your animation as a gif. The first argument is the filename you want to give the animation and the second is the animation object, so if you have an animation object called <code>p</code> that you wanted to save in a file called “p.gif”, you would save it like so:</p>
<div class="sourceCode" id="cb1178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1178-1"><a href="animation.html#cb1178-1"></a><span class="kw">anim_save</span>(<span class="st">"p.gif"</span>, p)</span></code></pre></div>
<p>If you don’t supply the second argument, <code>anim_save()</code> will default to saving the most recent animation you rendered. So <code>anim_save("animation.gif")</code> will save the most recent animation as “animation.gif”.</p>
<p>If you don’t want to save your gif in the current directory, you can specify a directory using the <code>path</code> argument. Let’s say there is a subdirectory of your working directory called “gifs”. You can thus save “animation.gif” in “gifs” with <code>anim_save("animation.gif", path = "gifs")</code>.</p>
<p>After you have created a gif, you can post it online. You can post it to Facebook by selecting “Photo/Video” on your Facebook status or to Twitter by clicking the <a href="https://help.twitter.com/en/using-twitter/tweeting-gifs-and-pictures">photo icon</a>.</p>

</div>
</div></body></html>

<p style="text-align: center;">
<a href="maps.html"><button class="btn btn-default">Previous</button></a>
<a href="references-1.html"><button class="btn btn-default">Next</button></a>
</p>
<p class="build-date">Page built: 
2020-07-16
</p>
</div>
</div>



</body>
</html>
